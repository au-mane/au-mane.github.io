import{s as lt,c as Tr,e as R,t as Pe,b as ve,i as q,j as H,l as Ne,d as W,f as ge,m as g,n as dt,o as M,p as Se,u as xr,g as Er,a as Dr,H as Ve,v as Ce,x as Mr,K as Or,k as _r}from"./scheduler.CS-wq-7V.js";import{S as ft,i as ht,t as Yr,a as Lr}from"./index.URQJKAju.js";import{w as pe,d as Pr}from"./index.DvUi5W5L.js";import{s as ze}from"./supabase-config.Y8iSvhNi.js";import{t as L}from"./app.state.DvZGhdJ7.js";function N(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function $t(r,e){const t=L(r);return isNaN(e)?N(r,NaN):(e&&t.setDate(t.getDate()+e),t)}const er=6048e5,Nr=864e5,Sr=6e4,Ir=36e5,Cr=1e3;let Wr={};function De(){return Wr}function le(r,e){const t=De(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=L(r),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function xe(r){return le(r,{weekStartsOn:1})}function tr(r){const e=L(r),t=e.getFullYear(),n=N(r,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);const a=xe(n),s=N(r,0);s.setFullYear(t,0,4),s.setHours(0,0,0,0);const i=xe(s);return e.getTime()>=a.getTime()?t+1:e.getTime()>=i.getTime()?t:t-1}function _t(r){const e=L(r);return e.setHours(0,0,0,0),e}function Be(r){const e=L(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Ur(r,e){const t=_t(r),n=_t(e),a=+t-Be(t),s=+n-Be(n);return Math.round((a-s)/Nr)}function Ar(r){const e=tr(r),t=N(r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),xe(t)}function Rr(r,e){const t=L(r),n=L(e),a=t.getTime()-n.getTime();return a<0?-1:a>0?1:a}function qr(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Hr(r){if(!qr(r)&&typeof r!="number")return!1;const e=L(r);return!isNaN(Number(e))}function Br(r){const e=L(r),t=N(r,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const jr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fr=(r,e,t)=>{let n;const a=jr[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Ze(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const Qr={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gr={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xr={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zr={date:Ze({formats:Qr,defaultWidth:"full"}),time:Ze({formats:Gr,defaultWidth:"full"}),dateTime:Ze({formats:Xr,defaultWidth:"full"})},Kr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vr=(r,e,t,n)=>Kr[r];function Oe(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let a;if(n==="formatting"&&r.formattingValues){const i=r.defaultFormattingWidth||r.defaultWidth,o=t?.width?String(t.width):i;a=r.formattingValues[o]||r.formattingValues[i]}else{const i=r.defaultWidth,o=t?.width?String(t.width):r.defaultWidth;a=r.values[o]||r.values[i]}const s=r.argumentCallback?r.argumentCallback(e):e;return a[s]}}const Zr={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$r={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},en={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nn=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},an={ordinalNumber:nn,era:Oe({values:Zr,defaultWidth:"wide"}),quarter:Oe({values:Jr,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Oe({values:$r,defaultWidth:"wide"}),day:Oe({values:en,defaultWidth:"wide"}),dayPeriod:Oe({values:tn,defaultWidth:"wide",formattingValues:rn,defaultFormattingWidth:"wide"})};function _e(r){return(e,t={})=>{const n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],o=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],u=Array.isArray(o)?on(o,l=>l.test(i)):sn(o,l=>l.test(i));let f;f=r.valueCallback?r.valueCallback(u):u,f=t.valueCallback?t.valueCallback(f):f;const c=e.slice(i.length);return{value:f,rest:c}}}function sn(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function on(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function un(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const a=n[0],s=e.match(r.parsePattern);if(!s)return null;let i=r.valueCallback?r.valueCallback(s[0]):s[0];i=t.valueCallback?t.valueCallback(i):i;const o=e.slice(a.length);return{value:i,rest:o}}}const cn=/^(\d+)(th|st|nd|rd)?/i,ln=/\d+/i,dn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fn={any:[/^b/i,/^(a|c)/i]},hn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yn={any:[/1/i,/2/i,/3/i,/4/i]},mn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kn={ordinalNumber:un({matchPattern:cn,parsePattern:ln,valueCallback:r=>parseInt(r,10)}),era:_e({matchPatterns:dn,defaultMatchWidth:"wide",parsePatterns:fn,defaultParseWidth:"any"}),quarter:_e({matchPatterns:hn,defaultMatchWidth:"wide",parsePatterns:yn,defaultParseWidth:"any",valueCallback:r=>r+1}),month:_e({matchPatterns:mn,defaultMatchWidth:"wide",parsePatterns:bn,defaultParseWidth:"any"}),day:_e({matchPatterns:pn,defaultMatchWidth:"wide",parsePatterns:wn,defaultParseWidth:"any"}),dayPeriod:_e({matchPatterns:vn,defaultMatchWidth:"any",parsePatterns:gn,defaultParseWidth:"any"})},rr={code:"en-US",formatDistance:Fr,formatLong:zr,formatRelative:Vr,localize:an,match:kn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Tn(r){const e=L(r);return Ur(e,Br(e))+1}function nr(r){const e=L(r),t=+xe(e)-+Ar(e);return Math.round(t/er)+1}function yt(r,e){const t=L(r),n=t.getFullYear(),a=De(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=N(r,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const o=le(i,e),u=N(r,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const f=le(u,e);return t.getTime()>=o.getTime()?n+1:t.getTime()>=f.getTime()?n:n-1}function xn(r,e){const t=De(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=yt(r,e),s=N(r,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),le(s,e)}function ar(r,e){const t=L(r),n=+le(t,e)-+xn(t,e);return Math.round(n/er)+1}function E(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const oe={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return E(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):E(t+1,2)},d(r,e){return E(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return E(r.getHours()%12||12,e.length)},H(r,e){return E(r.getHours(),e.length)},m(r,e){return E(r.getMinutes(),e.length)},s(r,e){return E(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return E(a,e.length)}},me={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yt={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return oe.y(r,e)},Y:function(r,e,t,n){const a=yt(r,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return E(i,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):E(s,e.length)},R:function(r,e){const t=tr(r);return E(t,e.length)},u:function(r,e){const t=r.getFullYear();return E(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return E(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return E(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return oe.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return E(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const a=ar(r,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):E(a,e.length)},I:function(r,e,t){const n=nr(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):E(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):oe.d(r,e)},D:function(r,e,t){const n=Tn(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):E(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return E(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return E(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return E(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let a;switch(n===12?a=me.noon:n===0?a=me.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let a;switch(n>=17?a=me.evening:n>=12?a=me.afternoon:n>=4?a=me.morning:a=me.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return oe.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):oe.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):E(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):E(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):oe.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):oe.s(r,e)},S:function(r,e){return oe.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Pt(n);case"XXXX":case"XX":return de(n);case"XXXXX":case"XXX":default:return de(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return Pt(n);case"xxxx":case"xx":return de(n);case"xxxxx":case"xxx":default:return de(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Lt(n,":");case"OOOO":default:return"GMT"+de(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Lt(n,":");case"zzzz":default:return"GMT"+de(n,":")}},t:function(r,e,t){const n=Math.trunc(r.getTime()/1e3);return E(n,e.length)},T:function(r,e,t){const n=r.getTime();return E(n,e.length)}};function Lt(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Math.trunc(n/60),s=n%60;return s===0?t+String(a):t+String(a)+e+E(s,2)}function Pt(r,e){return r%60===0?(r>0?"-":"+")+E(Math.abs(r)/60,2):de(r,e)}function de(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=E(Math.trunc(n/60),2),s=E(n%60,2);return t+a+e+s}const Nt=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},sr=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},En=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return Nt(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Nt(n,e)).replace("{{time}}",sr(a,e))},rt={p:sr,P:En},Dn=/^D+$/,Mn=/^Y+$/,On=["D","DD","YY","YYYY"];function ir(r){return Dn.test(r)}function or(r){return Mn.test(r)}function nt(r,e,t){const n=_n(r,e,t);if(console.warn(n),On.includes(r))throw new RangeError(n)}function _n(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Yn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ln=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pn=/^'([^]*?)'?$/,Nn=/''/g,Sn=/[a-zA-Z]/;function In(r,e,t){const n=De(),a=n.locale??rr,s=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=L(r);if(!Hr(o))throw new RangeError("Invalid time value");let u=e.match(Ln).map(c=>{const l=c[0];if(l==="p"||l==="P"){const d=rt[l];return d(c,a.formatLong)}return c}).join("").match(Yn).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const l=c[0];if(l==="'")return{isToken:!1,value:Cn(c)};if(Yt[l])return{isToken:!0,value:c};if(l.match(Sn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+l+"`");return{isToken:!1,value:c}});a.localize.preprocessor&&(u=a.localize.preprocessor(o,u));const f={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return u.map(c=>{if(!c.isToken)return c.value;const l=c.value;(or(l)||ir(l))&&nt(l,e,String(r));const d=Yt[l[0]];return d(o,l,a.localize,f)}).join("")}function Cn(r){const e=r.match(Pn);return e?e[1].replace(Nn,"'"):r}function Wn(){return Object.assign({},De())}function Un(r){let t=L(r).getDay();return t===0&&(t=7),t}function An(r,e){const t=e instanceof Date?N(e,0):new e(0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}const Rn=10;class ur{subPriority=0;validate(e,t){return!0}}class qn extends ur{constructor(e,t,n,a,s){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=a,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class Hn extends ur{priority=Rn;subPriority=-1;set(e,t){return t.timestampIsSet?e:N(e,An(e,Date))}}let x=class{run(e,t,n,a){const s=this.parse(e,t,n,a);return s?{setter:new qn(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,n){return!0}};class Bn extends x{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const S={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},re={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function I(r,e){return r&&{value:e(r.value),rest:r.rest}}function Y(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ne(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,i=t[5]?parseInt(t[5],10):0;return{value:n*(a*Ir+s*Sr+i*Cr),rest:e.slice(t[0].length)}}function cr(r){return Y(S.anyDigitsSigned,r)}function P(r,e){switch(r){case 1:return Y(S.singleDigit,e);case 2:return Y(S.twoDigits,e);case 3:return Y(S.threeDigits,e);case 4:return Y(S.fourDigits,e);default:return Y(new RegExp("^\\d{1,"+r+"}"),e)}}function je(r,e){switch(r){case 1:return Y(S.singleDigitSigned,e);case 2:return Y(S.twoDigitsSigned,e);case 3:return Y(S.threeDigitsSigned,e);case 4:return Y(S.fourDigitsSigned,e);default:return Y(new RegExp("^-?\\d{1,"+r+"}"),e)}}function mt(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function lr(r,e){const t=e>0,n=t?e:1-e;let a;if(n<=50)a=r||100;else{const s=n+50,i=Math.trunc(s/100)*100,o=r>=s%100;a=r+i-(o?100:0)}return t?a:1-a}function dr(r){return r%400===0||r%4===0&&r%100!==0}class jn extends x{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const a=s=>({year:s,isTwoDigitYear:t==="yy"});switch(t){case"y":return I(P(4,e),a);case"yo":return I(n.ordinalNumber(e,{unit:"year"}),a);default:return I(P(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const a=e.getFullYear();if(n.isTwoDigitYear){const i=lr(n.year,a);return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}const s=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class Fn extends x{priority=130;parse(e,t,n){const a=s=>({year:s,isTwoDigitYear:t==="YY"});switch(t){case"Y":return I(P(4,e),a);case"Yo":return I(n.ordinalNumber(e,{unit:"year"}),a);default:return I(P(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,a){const s=yt(e,a);if(n.isTwoDigitYear){const o=lr(n.year,s);return e.setFullYear(o,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),le(e,a)}const i=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(i,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),le(e,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Qn extends x{priority=130;parse(e,t){return je(t==="R"?4:t.length,e)}set(e,t,n){const a=N(e,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),xe(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Gn extends x{priority=130;parse(e,t){return je(t==="u"?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Xn extends x{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return P(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class zn extends x{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return P(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Kn extends x{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const a=s=>s-1;switch(t){case"M":return I(Y(S.month,e),a);case"MM":return I(P(2,e),a);case"Mo":return I(n.ordinalNumber(e,{unit:"month"}),a);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class Vn extends x{priority=110;parse(e,t,n){const a=s=>s-1;switch(t){case"L":return I(Y(S.month,e),a);case"LL":return I(P(2,e),a);case"Lo":return I(n.ordinalNumber(e,{unit:"month"}),a);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Zn(r,e,t){const n=L(r),a=ar(n,t)-e;return n.setDate(n.getDate()-a*7),n}class Jn extends x{priority=100;parse(e,t,n){switch(t){case"w":return Y(S.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return P(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,a){return le(Zn(e,n,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function $n(r,e){const t=L(r),n=nr(t)-e;return t.setDate(t.getDate()-n*7),t}class ea extends x{priority=100;parse(e,t,n){switch(t){case"I":return Y(S.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return P(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return xe($n(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const ta=[31,28,31,30,31,30,31,31,30,31,30,31],ra=[31,29,31,30,31,30,31,31,30,31,30,31];class na extends x{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return Y(S.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return P(t.length,e)}}validate(e,t){const n=e.getFullYear(),a=dr(n),s=e.getMonth();return a?t>=1&&t<=ra[s]:t>=1&&t<=ta[s]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class aa extends x{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return Y(S.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return P(t.length,e)}}validate(e,t){const n=e.getFullYear();return dr(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function bt(r,e,t){const n=De(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=L(r),i=s.getDay(),u=(e%7+7)%7,f=7-a,c=e<0||e>6?e-(i+f)%7:(u+f)%7-(i+f)%7;return $t(s,c)}class sa extends x{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,a){return e=bt(e,n,a),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class ia extends x{priority=90;parse(e,t,n,a){const s=i=>{const o=Math.floor((i-1)/7)*7;return(i+a.weekStartsOn+6)%7+o};switch(t){case"e":case"ee":return I(P(t.length,e),s);case"eo":return I(n.ordinalNumber(e,{unit:"day"}),s);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,a){return e=bt(e,n,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class oa extends x{priority=90;parse(e,t,n,a){const s=i=>{const o=Math.floor((i-1)/7)*7;return(i+a.weekStartsOn+6)%7+o};switch(t){case"c":case"cc":return I(P(t.length,e),s);case"co":return I(n.ordinalNumber(e,{unit:"day"}),s);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,a){return e=bt(e,n,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function ua(r,e){const t=L(r),n=Un(t),a=e-n;return $t(t,a)}class ca extends x{priority=90;parse(e,t,n){const a=s=>s===0?7:s;switch(t){case"i":case"ii":return P(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return I(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return I(n.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return I(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return I(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=ua(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class la extends x{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(mt(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class da extends x{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(mt(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class fa extends x{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(mt(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class ha extends x{priority=70;parse(e,t,n){switch(t){case"h":return Y(S.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return P(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const a=e.getHours()>=12;return a&&n<12?e.setHours(n+12,0,0,0):!a&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class ya extends x{priority=70;parse(e,t,n){switch(t){case"H":return Y(S.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return P(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class ma extends x{priority=70;parse(e,t,n){switch(t){case"K":return Y(S.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return P(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class ba extends x{priority=70;parse(e,t,n){switch(t){case"k":return Y(S.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return P(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const a=n<=24?n%24:n;return e.setHours(a,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class pa extends x{priority=60;parse(e,t,n){switch(t){case"m":return Y(S.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return P(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class wa extends x{priority=50;parse(e,t,n){switch(t){case"s":return Y(S.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return P(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class va extends x{priority=30;parse(e,t){const n=a=>Math.trunc(a*Math.pow(10,-t.length+3));return I(P(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class ga extends x{priority=10;parse(e,t){switch(t){case"X":return ne(re.basicOptionalMinutes,e);case"XX":return ne(re.basic,e);case"XXXX":return ne(re.basicOptionalSeconds,e);case"XXXXX":return ne(re.extendedOptionalSeconds,e);case"XXX":default:return ne(re.extended,e)}}set(e,t,n){return t.timestampIsSet?e:N(e,e.getTime()-Be(e)-n)}incompatibleTokens=["t","T","x"]}class ka extends x{priority=10;parse(e,t){switch(t){case"x":return ne(re.basicOptionalMinutes,e);case"xx":return ne(re.basic,e);case"xxxx":return ne(re.basicOptionalSeconds,e);case"xxxxx":return ne(re.extendedOptionalSeconds,e);case"xxx":default:return ne(re.extended,e)}}set(e,t,n){return t.timestampIsSet?e:N(e,e.getTime()-Be(e)-n)}incompatibleTokens=["t","T","X"]}class Ta extends x{priority=40;parse(e){return cr(e)}set(e,t,n){return[N(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class xa extends x{priority=20;parse(e){return cr(e)}set(e,t,n){return[N(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const Ea={G:new Bn,y:new jn,Y:new Fn,R:new Qn,u:new Gn,Q:new Xn,q:new zn,M:new Kn,L:new Vn,w:new Jn,I:new ea,d:new na,D:new aa,E:new sa,e:new ia,c:new oa,i:new ca,a:new la,b:new da,B:new fa,h:new ha,H:new ya,K:new ma,k:new ba,m:new pa,s:new wa,S:new va,X:new ga,x:new ka,t:new Ta,T:new xa},Da=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ma=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Oa=/^'([^]*?)'?$/,_a=/''/g,Ya=/\S/,La=/[a-zA-Z]/;function ke(r,e,t,n){const a=Wn(),s=a.locale??rr,i=a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=a.weekStartsOn??a.locale?.options?.weekStartsOn??0,u={firstWeekContainsDate:i,weekStartsOn:o,locale:s},f=[new Hn],c=e.match(Ma).map(y=>{const p=y[0];if(p in rt){const v=rt[p];return v(y,s.formatLong)}return y}).join("").match(Da),l=[];for(let y of c){or(y)&&nt(y,e,r),ir(y)&&nt(y,e,r);const p=y[0],v=Ea[p];if(v){const{incompatibleTokens:_}=v;if(Array.isArray(_)){const Q=l.find(Z=>_.includes(Z.token)||Z.token===p);if(Q)throw new RangeError(`The format string mustn't contain \`${Q.fullToken}\` and \`${y}\` at the same time`)}else if(v.incompatibleTokens==="*"&&l.length>0)throw new RangeError(`The format string mustn't contain \`${y}\` and any other token at the same time`);l.push({token:p,fullToken:y});const O=v.run(r,y,s.match,u);if(!O)return N(t,NaN);f.push(O.setter),r=O.rest}else{if(p.match(La))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");if(y==="''"?y="'":p==="'"&&(y=Pa(y)),r.indexOf(y)===0)r=r.slice(y.length);else return N(t,NaN)}}if(r.length>0&&Ya.test(r))return N(t,NaN);const d=f.map(y=>y.priority).sort((y,p)=>p-y).filter((y,p,v)=>v.indexOf(y)===p).map(y=>f.filter(p=>p.priority===y).sort((p,v)=>v.subPriority-p.subPriority)).map(y=>y[0]);let h=L(t);if(isNaN(h.getTime()))return N(t,NaN);const m={};for(const y of d){if(!y.validate(h,u))return N(t,NaN);const p=y.set(h,m,u);Array.isArray(p)?(h=p[0],Object.assign(m,p[1])):h=p}return N(t,h)}function Pa(r){return r.match(Oa)[1].replace(_a,"'")}function Na(r,e){const t=+L(r),[n,a]=[+L(e.start),+L(e.end)].sort((s,i)=>s-i);return t>=n&&t<=a}var A=[];for(var Je=0;Je<256;++Je)A.push((Je+256).toString(16).slice(1));function Sa(r,e=0){return(A[r[e+0]]+A[r[e+1]]+A[r[e+2]]+A[r[e+3]]+"-"+A[r[e+4]]+A[r[e+5]]+"-"+A[r[e+6]]+A[r[e+7]]+"-"+A[r[e+8]]+A[r[e+9]]+"-"+A[r[e+10]]+A[r[e+11]]+A[r[e+12]]+A[r[e+13]]+A[r[e+14]]+A[r[e+15]]).toLowerCase()}var He,Ia=new Uint8Array(16);function Ca(){if(!He&&(He=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!He))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return He(Ia)}var Wa=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const St={randomUUID:Wa};function Ua(r,e,t){if(St.randomUUID&&!e&&!r)return St.randomUUID();r=r||{};var n=r.random||(r.rng||Ca)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Sa(n)}function Aa(r){let e,t,n,a,s,i,o,u,f,c,l;const d=r[8].default,h=Tr(d,r,r[7],null);return{c(){e=R("div"),t=R("div"),n=R("h4"),a=Pe(r[1]),s=ve(),i=R("button"),u=ve(),f=R("div"),h&&h.c(),this.h()},l(m){e=q(m,"DIV",{class:!0,tabindex:!0,id:!0,"aria-labelledby":!0});var y=H(e);t=q(y,"DIV",{class:!0});var p=H(t);n=q(p,"H4",{class:!0,id:!0});var v=H(n);a=Ne(v,r[1]),v.forEach(W),s=ge(p),i=q(p,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-bs-target":!0,"aria-label":!0}),H(i).forEach(W),p.forEach(W),u=ge(y),f=q(y,"DIV",{class:!0});var _=H(f);h&&h.l(_),_.forEach(W),y.forEach(W),this.h()},h(){g(n,"class","offcanvas-title"),g(n,"id",r[4]),g(i,"type","button"),g(i,"class","btn-close"),g(i,"data-bs-dismiss","offcanvas"),g(i,"data-bs-target",o="#"+r[0]),g(i,"aria-label","Close"),g(t,"class","offcanvas-header"),g(f,"class","offcanvas-body"),g(e,"class",c=r[3]+" "+r[2]),g(e,"tabindex","-1"),g(e,"id",r[0]),g(e,"aria-labelledby",r[4])},m(m,y){dt(m,e,y),M(e,t),M(t,n),M(n,a),M(t,s),M(t,i),M(e,u),M(e,f),h&&h.m(f,null),l=!0},p(m,[y]){(!l||y&2)&&Se(a,m[1]),(!l||y&1&&o!==(o="#"+m[0]))&&g(i,"data-bs-target",o),h&&h.p&&(!l||y&128)&&xr(h,d,m,m[7],l?Dr(d,m[7],y,null):Er(m[7]),null),(!l||y&12&&c!==(c=m[3]+" "+m[2]))&&g(e,"class",c),(!l||y&1)&&g(e,"id",m[0])},i(m){l||(Yr(h,m),l=!0)},o(m){Lr(h,m),l=!1},d(m){m&&W(e),h&&h.d(m)}}}function Ra(r,e,t){let n,a,{$$slots:s={},$$scope:i}=e,{id:o}=e,{title:u}=e,{breakpoint:f=""}=e,{placement:c="end"}=e;const l=Ua();return r.$$set=d=>{"id"in d&&t(0,o=d.id),"title"in d&&t(1,u=d.title),"breakpoint"in d&&t(5,f=d.breakpoint),"placement"in d&&t(6,c=d.placement),"$$scope"in d&&t(7,i=d.$$scope)},r.$$.update=()=>{r.$$.dirty&32&&t(3,n=`offcanvas${f===""?"":"-"+f}`),r.$$.dirty&64&&t(2,a=`offcanvas-${c}`)},[o,u,a,n,l,f,c,i,s]}class ti extends ft{constructor(e){super(),ht(this,e,Ra,Aa,lt,{id:0,title:1,breakpoint:5,placement:6})}}const qa={unknown:{label:"Unknown",value:"unknown",sort_order:0},fixed:{label:"Fixed",value:"fixed",sort_order:1},variable:{label:"Variable",value:"variable",sort_order:2}},ri=Object.values(qa).sort((r,e)=>r.sort_order-e.sort_order).map(r=>({key:r.label,value:r.value})),we={oneTime:{label:"One Time",value:"one-time",sort_order:1},daily:{label:"Daily",value:"daily",sort_order:2},weekly:{label:"Weekly",value:"weekly",sort_order:3},monthly:{label:"Monthly",value:"monthly",sort_order:4},yearly:{label:"Yearly",value:"yearly",sort_order:5},everySixMonths:{label:"Every Six Months",value:"every-six-months",sort_order:6}},ni=Object.values(we).sort((r,e)=>r.sort_order-e.sort_order).map(r=>({key:r.label,value:r.value}));var at=["MO","TU","WE","TH","FR","SA","SU"],F=function(){function r(e,t){if(t===0)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t}return r.fromStr=function(e){return new r(at.indexOf(e))},r.prototype.nth=function(e){return this.n===e?this:new r(this.weekday,e)},r.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},r.prototype.toString=function(){var e=at[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},r.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},r}(),C=function(r){return r!=null},ee=function(r){return typeof r=="number"},It=function(r){return typeof r=="string"&&at.includes(r)},X=Array.isArray,ae=function(r,e){e===void 0&&(e=r),arguments.length===1&&(e=r,r=0);for(var t=[],n=r;n<e;n++)t.push(n);return t},k=function(r,e){var t=0,n=[];if(X(r))for(;t<e;t++)n[t]=[].concat(r);else for(;t<e;t++)n[t]=r;return n},Ha=function(r){return X(r)?r:[r]};function be(r,e,t){t===void 0&&(t=" ");var n=String(r);return e=e>>0,n.length>e?String(n):(e=e-n.length,e>t.length&&(t+=k(t,e/t.length)),t.slice(0,e)+String(n))}var Ba=function(r,e,t){var n=r.split(e);return t?n.slice(0,t).concat([n.slice(t).join(e)]):n},V=function(r,e){var t=r%e;return t*e<0?t+e:t},$e=function(r,e){return{div:Math.floor(r/e),mod:V(r,e)}},te=function(r){return!C(r)||r.length===0},U=function(r){return!te(r)},D=function(r,e){return U(r)&&r.indexOf(e)!==-1},he=function(r,e,t,n,a,s){return n===void 0&&(n=0),a===void 0&&(a=0),s===void 0&&(s=0),new Date(Date.UTC(r,e-1,t,n,a,s))},ja=[31,28,31,30,31,30,31,31,30,31,30,31],fr=1e3*60*60*24,hr=9999,yr=he(1970,1,1),Fa=[6,0,1,2,3,4,5],We=function(r){return r%4===0&&r%100!==0||r%400===0},mr=function(r){return r instanceof Date},Ie=function(r){return mr(r)&&!isNaN(r.getTime())},Qa=function(r,e){var t=r.getTime(),n=e.getTime(),a=t-n;return Math.round(a/fr)},st=function(r){return Qa(r,yr)},br=function(r){return new Date(yr.getTime()+r*fr)},Ga=function(r){var e=r.getUTCMonth();return e===1&&We(r.getUTCFullYear())?29:ja[e]},Ee=function(r){return Fa[r.getUTCDay()]},Ct=function(r,e){var t=he(r,e+1,1);return[Ee(t),Ga(t)]},pr=function(r,e){return e=e||r,new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},it=function(r){var e=new Date(r.getTime());return e},Wt=function(r){for(var e=[],t=0;t<r.length;t++)e.push(it(r[t]));return e},Ue=function(r){r.sort(function(e,t){return e.getTime()-t.getTime()})},pt=function(r,e){e===void 0&&(e=!0);var t=new Date(r);return[be(t.getUTCFullYear().toString(),4,"0"),be(t.getUTCMonth()+1,2,"0"),be(t.getUTCDate(),2,"0"),"T",be(t.getUTCHours(),2,"0"),be(t.getUTCMinutes(),2,"0"),be(t.getUTCSeconds(),2,"0"),e?"Z":""].join("")},wt=function(r){var e=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,t=e.exec(r);if(!t)throw new Error("Invalid UNTIL value: ".concat(r));return new Date(Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[5],10)||0,parseInt(t[6],10)||0,parseInt(t[7],10)||0))},Ut=function(r,e){var t=r.toLocaleString("sv-SE",{timeZone:e});return t.replace(" ","T")+"Z"},Xa=function(r,e){var t=Intl.DateTimeFormat().resolvedOptions().timeZone,n=new Date(Ut(r,t)),a=new Date(Ut(r,e??"UTC")),s=a.getTime()-n.getTime();return new Date(r.getTime()-s)},Te=function(){function r(e,t){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=t,e==="between"?(this.maxDate=t.inc?t.before:new Date(t.before.getTime()-1),this.minDate=t.inc?t.after:new Date(t.after.getTime()+1)):e==="before"?this.maxDate=t.inc?t.dt:new Date(t.dt.getTime()-1):e==="after"&&(this.minDate=t.inc?t.dt:new Date(t.dt.getTime()+1))}return r.prototype.accept=function(e){++this.total;var t=this.minDate&&e<this.minDate,n=this.maxDate&&e>this.maxDate;if(this.method==="between"){if(t)return!0;if(n)return!1}else if(this.method==="before"){if(n)return!1}else if(this.method==="after")return t?!0:(this.add(e),!1);return this.add(e)},r.prototype.add=function(e){return this._result.push(e),!0},r.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}},r.prototype.clone=function(){return new r(this.method,this.args)},r}(),ot=function(r,e){return ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},ot(r,e)};function vt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ot(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var z=function(){return z=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},z.apply(this,arguments)};function b(r,e,t){if(t||arguments.length===2)for(var n=0,a=e.length,s;n<a;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))}var At=function(r){vt(e,r);function e(t,n,a){var s=r.call(this,t,n)||this;return s.iterator=a,s}return e.prototype.add=function(t){return this.iterator(t,this._result.length)?(this._result.push(t),!0):!1},e}(Te),Fe={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},Rt=function(r,e){return r.indexOf(e)!==-1},za=function(r){return r.toString()},Ka=function(r,e,t){return"".concat(e," ").concat(t,", ").concat(r)},ie=function(){function r(e,t,n,a){if(t===void 0&&(t=za),n===void 0&&(n=Fe),a===void 0&&(a=Ka),this.text=[],this.language=n||Fe,this.gettext=t,this.dateFormatter=a,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var s=[].concat(this.options.bymonthday),i=[].concat(this.options.bynmonthday);s.sort(function(c,l){return c-l}),i.sort(function(c,l){return l-c}),this.bymonthday=s.concat(i),this.bymonthday.length||(this.bymonthday=null)}if(C(this.origOptions.byweekday)){var o=X(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],u=String(o);this.byweekday={allWeeks:o.filter(function(c){return!c.n}),someWeeks:o.filter(function(c){return!!c.n}),isWeekdays:u.indexOf("MO")!==-1&&u.indexOf("TU")!==-1&&u.indexOf("WE")!==-1&&u.indexOf("TH")!==-1&&u.indexOf("FR")!==-1&&u.indexOf("SA")===-1&&u.indexOf("SU")===-1,isEveryDay:u.indexOf("MO")!==-1&&u.indexOf("TU")!==-1&&u.indexOf("WE")!==-1&&u.indexOf("TH")!==-1&&u.indexOf("FR")!==-1&&u.indexOf("SA")!==-1&&u.indexOf("SU")!==-1};var f=function(c,l){return c.weekday-l.weekday};this.byweekday.allWeeks.sort(f),this.byweekday.someWeeks.sort(f),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return r.isFullyConvertible=function(e){var t=!0;if(!(e.options.freq in r.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(var n in e.origOptions){if(Rt(["dtstart","tzid","wkst","freq"],n))return!0;if(!Rt(r.IMPLEMENTED[e.options.freq],n))return!1}return t},r.prototype.isFullyConvertible=function(){return r.isFullyConvertible(this.rrule)},r.prototype.toString=function(){var e=this.gettext;if(!(this.options.freq in r.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[w.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));var t=this.options.until;this.add(this.dateFormatter(t.getUTCFullYear(),this.language.monthNames[t.getUTCMonth()],t.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")},r.prototype.HOURLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},r.prototype.MINUTELY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},r.prototype.DAILY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},r.prototype.WEEKLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(this.options.interval===1&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())},r.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},r.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},r.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},r.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},r.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},r.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},r.prototype.nth=function(e){e=parseInt(e.toString(),10);var t,n=this.gettext;if(e===-1)return n("last");var a=Math.abs(e);switch(a){case 1:case 21:case 31:t=a+n("st");break;case 2:case 22:t=a+n("nd");break;case 3:case 23:t=a+n("rd");break;default:t=a+n("th")}return e<0?t+" "+n("last"):t},r.prototype.monthtext=function(e){return this.language.monthNames[e-1]},r.prototype.weekdaytext=function(e){var t=ee(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[t]},r.prototype.plural=function(e){return e%100!==1},r.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},r.prototype.list=function(e,t,n,a){var s=this;a===void 0&&(a=","),X(e)||(e=[e]);var i=function(u,f,c){for(var l="",d=0;d<u.length;d++)d!==0&&(d===u.length-1?l+=" "+c+" ":l+=f+" "),l+=u[d];return l};t=t||function(u){return u.toString()};var o=function(u){return t&&t.call(s,u)};return n?i(e.map(o),a,n):e.map(o).join(a+" ")},r}(),Va=function(){function r(e){this.done=!0,this.rules=e}return r.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},r.prototype.isDone=function(){return this.done&&this.symbol===null},r.prototype.nextSymbol=function(){var e,t;this.symbol=null,this.value=null;do{if(this.done)return!1;var n=void 0;e=null;for(var a in this.rules){n=this.rules[a];var s=n.exec(this.text);s&&(e===null||s[0].length>e[0].length)&&(e=s,t=a)}if(e!=null&&(this.text=this.text.substr(e[0].length),this.text===""&&(this.done=!0)),e==null){this.done=!0,this.symbol=null,this.value=null;return}}while(t==="SKIP");return this.symbol=t,this.value=e,!0},r.prototype.accept=function(e){if(this.symbol===e){if(this.value){var t=this.value;return this.nextSymbol(),t}return this.nextSymbol(),!0}return!1},r.prototype.acceptNumber=function(){return this.accept("number")},r.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},r}();function wr(r,e){e===void 0&&(e=Fe);var t={},n=new Va(e.tokens);if(!n.start(r))return null;return a(),t;function a(){n.expect("every");var d=n.acceptNumber();if(d&&(t.interval=parseInt(d[0],10)),n.isDone())throw new Error("Unexpected end");switch(n.symbol){case"day(s)":t.freq=w.DAILY,n.nextSymbol()&&(i(),l());break;case"weekday(s)":t.freq=w.WEEKLY,t.byweekday=[w.MO,w.TU,w.WE,w.TH,w.FR],n.nextSymbol(),i(),l();break;case"week(s)":t.freq=w.WEEKLY,n.nextSymbol()&&(s(),i(),l());break;case"hour(s)":t.freq=w.HOURLY,n.nextSymbol()&&(s(),l());break;case"minute(s)":t.freq=w.MINUTELY,n.nextSymbol()&&(s(),l());break;case"month(s)":t.freq=w.MONTHLY,n.nextSymbol()&&(s(),l());break;case"year(s)":t.freq=w.YEARLY,n.nextSymbol()&&(s(),l());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":t.freq=w.WEEKLY;var h=n.symbol.substr(0,2).toUpperCase();if(t.byweekday=[w[h]],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var m=u();if(!m)throw new Error("Unexpected symbol "+n.symbol+", expected weekday");t.byweekday.push(w[m]),n.nextSymbol()}i(),c(),l();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(t.freq=w.YEARLY,t.bymonth=[o()],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var y=o();if(!y)throw new Error("Unexpected symbol "+n.symbol+", expected month");t.bymonth.push(y),n.nextSymbol()}s(),l();break;default:throw new Error("Unknown symbol")}}function s(){var d=n.accept("on"),h=n.accept("the");if(d||h)do{var m=f(),y=u(),p=o();if(m)y?(n.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(w[y].nth(m))):(t.bymonthday||(t.bymonthday=[]),t.bymonthday.push(m),n.accept("day(s)"));else if(y)n.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(w[y]);else if(n.symbol==="weekday(s)")n.nextSymbol(),t.byweekday||(t.byweekday=[w.MO,w.TU,w.WE,w.TH,w.FR]);else if(n.symbol==="week(s)"){n.nextSymbol();var v=n.acceptNumber();if(!v)throw new Error("Unexpected symbol "+n.symbol+", expected week number");for(t.byweekno=[parseInt(v[0],10)];n.accept("comma");){if(v=n.acceptNumber(),!v)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");t.byweekno.push(parseInt(v[0],10))}}else if(p)n.nextSymbol(),t.bymonth||(t.bymonth=[]),t.bymonth.push(p);else return}while(n.accept("comma")||n.accept("the")||n.accept("on"))}function i(){var d=n.accept("at");if(d)do{var h=n.acceptNumber();if(!h)throw new Error("Unexpected symbol "+n.symbol+", expected hour");for(t.byhour=[parseInt(h[0],10)];n.accept("comma");){if(h=n.acceptNumber(),!h)throw new Error("Unexpected symbol "+n.symbol+"; expected hour");t.byhour.push(parseInt(h[0],10))}}while(n.accept("comma")||n.accept("at"))}function o(){switch(n.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function u(){switch(n.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return n.symbol.substr(0,2).toUpperCase();default:return!1}}function f(){switch(n.symbol){case"last":return n.nextSymbol(),-1;case"first":return n.nextSymbol(),1;case"second":return n.nextSymbol(),n.accept("last")?-2:2;case"third":return n.nextSymbol(),n.accept("last")?-3:3;case"nth":var d=parseInt(n.value[1],10);if(d<-366||d>366)throw new Error("Nth out of range: "+d);return n.nextSymbol(),n.accept("last")?-d:d;default:return!1}}function c(){n.accept("on"),n.accept("the");var d=f();if(d)for(t.bymonthday=[d],n.nextSymbol();n.accept("comma");){if(d=f(),!d)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");t.bymonthday.push(d),n.nextSymbol()}}function l(){if(n.symbol==="until"){var d=Date.parse(n.text);if(!d)throw new Error("Cannot parse until date:"+n.text);t.until=new Date(d)}else n.accept("for")&&(t.count=parseInt(n.value[0],10),n.expect("number"))}}var T;(function(r){r[r.YEARLY=0]="YEARLY",r[r.MONTHLY=1]="MONTHLY",r[r.WEEKLY=2]="WEEKLY",r[r.DAILY=3]="DAILY",r[r.HOURLY=4]="HOURLY",r[r.MINUTELY=5]="MINUTELY",r[r.SECONDLY=6]="SECONDLY"})(T||(T={}));function gt(r){return r<T.HOURLY}var Za=function(r,e){return e===void 0&&(e=Fe),new w(wr(r,e)||void 0)},Me=["count","until","interval","byweekday","bymonthday","bymonth"];ie.IMPLEMENTED=[];ie.IMPLEMENTED[T.HOURLY]=Me;ie.IMPLEMENTED[T.MINUTELY]=Me;ie.IMPLEMENTED[T.DAILY]=["byhour"].concat(Me);ie.IMPLEMENTED[T.WEEKLY]=Me;ie.IMPLEMENTED[T.MONTHLY]=Me;ie.IMPLEMENTED[T.YEARLY]=["byweekno","byyearday"].concat(Me);var Ja=function(r,e,t,n){return new ie(r,e,t,n).toString()},$a=ie.isFullyConvertible,Qe=function(){function r(e,t,n,a){this.hour=e,this.minute=t,this.second=n,this.millisecond=a||0}return r.prototype.getHours=function(){return this.hour},r.prototype.getMinutes=function(){return this.minute},r.prototype.getSeconds=function(){return this.second},r.prototype.getMilliseconds=function(){return this.millisecond},r.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},r}(),es=function(r){vt(e,r);function e(t,n,a,s,i,o,u){var f=r.call(this,s,i,o,u)||this;return f.year=t,f.month=n,f.day=a,f}return e.fromDate=function(t){return new this(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.valueOf()%1e3)},e.prototype.getWeekday=function(){return Ee(new Date(this.getTime()))},e.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},e.prototype.getDay=function(){return this.day},e.prototype.getMonth=function(){return this.month},e.prototype.getYear=function(){return this.year},e.prototype.addYears=function(t){this.year+=t},e.prototype.addMonths=function(t){if(this.month+=t,this.month>12){var n=Math.floor(this.month/12),a=V(this.month,12);this.month=a,this.year+=n,this.month===0&&(this.month=12,--this.year)}},e.prototype.addWeekly=function(t,n){n>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-n))+t*7:this.day+=-(this.getWeekday()-n)+t*7,this.fixDay()},e.prototype.addDaily=function(t){this.day+=t,this.fixDay()},e.prototype.addHours=function(t,n,a){for(n&&(this.hour+=Math.floor((23-this.hour)/t)*t);;){this.hour+=t;var s=$e(this.hour,24),i=s.div,o=s.mod;if(i&&(this.hour=o,this.addDaily(i)),te(a)||D(a,this.hour))break}},e.prototype.addMinutes=function(t,n,a,s){for(n&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/t)*t);;){this.minute+=t;var i=$e(this.minute,60),o=i.div,u=i.mod;if(o&&(this.minute=u,this.addHours(o,!1,a)),(te(a)||D(a,this.hour))&&(te(s)||D(s,this.minute)))break}},e.prototype.addSeconds=function(t,n,a,s,i){for(n&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/t)*t);;){this.second+=t;var o=$e(this.second,60),u=o.div,f=o.mod;if(u&&(this.second=f,this.addMinutes(u,!1,a,s)),(te(a)||D(a,this.hour))&&(te(s)||D(s,this.minute))&&(te(i)||D(i,this.second)))break}},e.prototype.fixDay=function(){if(!(this.day<=28)){var t=Ct(this.year,this.month-1)[1];if(!(this.day<=t))for(;this.day>t;){if(this.day-=t,++this.month,this.month===13&&(this.month=1,++this.year,this.year>hr))return;t=Ct(this.year,this.month-1)[1]}}},e.prototype.add=function(t,n){var a=t.freq,s=t.interval,i=t.wkst,o=t.byhour,u=t.byminute,f=t.bysecond;switch(a){case T.YEARLY:return this.addYears(s);case T.MONTHLY:return this.addMonths(s);case T.WEEKLY:return this.addWeekly(s,i);case T.DAILY:return this.addDaily(s);case T.HOURLY:return this.addHours(s,n,o);case T.MINUTELY:return this.addMinutes(s,n,o,u);case T.SECONDLY:return this.addSeconds(s,n,o,u,f)}},e}(Qe);function vr(r){for(var e=[],t=Object.keys(r),n=0,a=t;n<a.length;n++){var s=a[n];D(Ls,s)||e.push(s),mr(r[s])&&!Ie(r[s])&&e.push(s)}if(e.length)throw new Error("Invalid options: "+e.join(", "));return z({},r)}function ts(r){var e=z(z({},kt),vr(r));if(C(e.byeaster)&&(e.freq=w.YEARLY),!(C(e.freq)&&w.FREQUENCIES[e.freq]))throw new Error("Invalid frequency: ".concat(e.freq," ").concat(r.freq));if(e.dtstart||(e.dtstart=new Date(new Date().setMilliseconds(0))),C(e.wkst)?ee(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=w.MO.weekday,C(e.bysetpos)){ee(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(var t=0;t<e.bysetpos.length;t++){var n=e.bysetpos[t];if(n===0||!(n>=-366&&n<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(e.byweekno||U(e.byweekno)||U(e.byyearday)||e.bymonthday||U(e.bymonthday)||C(e.byweekday)||C(e.byeaster)))switch(e.freq){case w.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case w.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case w.WEEKLY:e.byweekday=[Ee(e.dtstart)];break}if(C(e.bymonth)&&!X(e.bymonth)&&(e.bymonth=[e.bymonth]),C(e.byyearday)&&!X(e.byyearday)&&ee(e.byyearday)&&(e.byyearday=[e.byyearday]),!C(e.bymonthday))e.bymonthday=[],e.bynmonthday=[];else if(X(e.bymonthday)){for(var a=[],s=[],t=0;t<e.bymonthday.length;t++){var n=e.bymonthday[t];n>0?a.push(n):n<0&&s.push(n)}e.bymonthday=a,e.bynmonthday=s}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);if(C(e.byweekno)&&!X(e.byweekno)&&(e.byweekno=[e.byweekno]),!C(e.byweekday))e.bynweekday=null;else if(ee(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if(It(e.byweekday))e.byweekday=[F.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof F)!e.byweekday.n||e.freq>w.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{for(var i=[],o=[],t=0;t<e.byweekday.length;t++){var u=e.byweekday[t];if(ee(u)){i.push(u);continue}else if(It(u)){i.push(F.fromStr(u).weekday);continue}!u.n||e.freq>w.MONTHLY?i.push(u.weekday):o.push([u.weekday,u.n])}e.byweekday=U(i)?i:null,e.bynweekday=U(o)?o:null}return C(e.byhour)?ee(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<w.HOURLY?[e.dtstart.getUTCHours()]:null,C(e.byminute)?ee(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<w.MINUTELY?[e.dtstart.getUTCMinutes()]:null,C(e.bysecond)?ee(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<w.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}function rs(r){var e=r.dtstart.getTime()%1e3;if(!gt(r.freq))return[];var t=[];return r.byhour.forEach(function(n){r.byminute.forEach(function(a){r.bysecond.forEach(function(s){t.push(new Qe(n,a,s,e))})})}),t}function ut(r){var e=r.split(`
`).map(ns).filter(function(t){return t!==null});return z(z({},e[0]),e[1])}function Ge(r){var e={},t=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(r);if(!t)return e;var n=t[1],a=t[2];return n&&(e.tzid=n),e.dtstart=wt(a),e}function ns(r){if(r=r.replace(/^\s+|\s+$/,""),!r.length)return null;var e=/^([A-Z]+?)[:;]/.exec(r.toUpperCase());if(!e)return qt(r);var t=e[1];switch(t.toUpperCase()){case"RRULE":case"EXRULE":return qt(r);case"DTSTART":return Ge(r);default:throw new Error("Unsupported RFC prop ".concat(t," in ").concat(r))}}function qt(r){var e=r.replace(/^RRULE:/i,""),t=Ge(e),n=r.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return n.forEach(function(a){var s=a.split("="),i=s[0],o=s[1];switch(i.toUpperCase()){case"FREQ":t.freq=T[o.toUpperCase()];break;case"WKST":t.wkst=$[o.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var u=as(o),f=i.toLowerCase();t[f]=u;break;case"BYWEEKDAY":case"BYDAY":t.byweekday=ss(o);break;case"DTSTART":case"TZID":var c=Ge(r);t.tzid=c.tzid,t.dtstart=c.dtstart;break;case"UNTIL":t.until=wt(o);break;case"BYEASTER":t.byeaster=Number(o);break;default:throw new Error("Unknown RRULE property '"+i+"'")}}),t}function as(r){if(r.indexOf(",")!==-1){var e=r.split(",");return e.map(Ht)}return Ht(r)}function Ht(r){return/^[+-]?\d+$/.test(r)?Number(r):r}function ss(r){var e=r.split(",");return e.map(function(t){if(t.length===2)return $[t];var n=t.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!n||n.length<3)throw new SyntaxError("Invalid weekday string: ".concat(t));var a=Number(n[1]),s=n[2],i=$[s].weekday;return new F(i,a)})}var Xe=function(){function r(e,t){if(isNaN(e.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=e,this.tzid=t}return Object.defineProperty(r.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),r.prototype.toString=function(){var e=pt(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(e):";TZID=".concat(this.tzid,":").concat(e)},r.prototype.getTime=function(){return this.date.getTime()},r.prototype.rezonedDate=function(){return this.isUTC?this.date:Xa(this.date,this.tzid)},r}();function ct(r){for(var e=[],t="",n=Object.keys(r),a=Object.keys(kt),s=0;s<n.length;s++)if(n[s]!=="tzid"&&D(a,n[s])){var i=n[s].toUpperCase(),o=r[n[s]],u="";if(!(!C(o)||X(o)&&!o.length)){switch(i){case"FREQ":u=w.FREQUENCIES[r.freq];break;case"WKST":ee(o)?u=new F(o).toString():u=o.toString();break;case"BYWEEKDAY":i="BYDAY",u=Ha(o).map(function(h){return h instanceof F?h:X(h)?new F(h[0],h[1]):new F(h)}).toString();break;case"DTSTART":t=is(o,r.tzid);break;case"UNTIL":u=pt(o,!r.tzid);break;default:if(X(o)){for(var f=[],c=0;c<o.length;c++)f[c]=String(o[c]);u=f.toString()}else u=String(o)}u&&e.push([i,u])}}var l=e.map(function(h){var m=h[0],y=h[1];return"".concat(m,"=").concat(y.toString())}).join(";"),d="";return l!==""&&(d="RRULE:".concat(l)),[t,d].filter(function(h){return!!h}).join(`
`)}function is(r,e){return r?"DTSTART"+new Xe(new Date(r),e).toString():""}function os(r,e){return Array.isArray(r)?!Array.isArray(e)||r.length!==e.length?!1:r.every(function(t,n){return t.getTime()===e[n].getTime()}):r instanceof Date?e instanceof Date&&r.getTime()===e.getTime():r===e}var us=function(){function r(){this.all=!1,this.before=[],this.after=[],this.between=[]}return r.prototype._cacheAdd=function(e,t,n){t&&(t=t instanceof Date?it(t):Wt(t)),e==="all"?this.all=t:(n._value=t,this[e].push(n))},r.prototype._cacheGet=function(e,t){var n=!1,a=t?Object.keys(t):[],s=function(c){for(var l=0;l<a.length;l++){var d=a[l];if(!os(t[d],c[d]))return!0}return!1},i=this[e];if(e==="all")n=this.all;else if(X(i))for(var o=0;o<i.length;o++){var u=i[o];if(!(a.length&&s(u))){n=u._value;break}}if(!n&&this.all){for(var f=new Te(e,t),o=0;o<this.all.length&&f.accept(this.all[o]);o++);n=f.getValue(),this._cacheAdd(e,n,t)}return X(n)?Wt(n):n instanceof Date?it(n):n},r}(),cs=b(b(b(b(b(b(b(b(b(b(b(b(b([],k(1,31),!0),k(2,28),!0),k(3,31),!0),k(4,30),!0),k(5,31),!0),k(6,30),!0),k(7,31),!0),k(8,31),!0),k(9,30),!0),k(10,31),!0),k(11,30),!0),k(12,31),!0),k(1,7),!0),ls=b(b(b(b(b(b(b(b(b(b(b(b(b([],k(1,31),!0),k(2,29),!0),k(3,31),!0),k(4,30),!0),k(5,31),!0),k(6,30),!0),k(7,31),!0),k(8,31),!0),k(9,30),!0),k(10,31),!0),k(11,30),!0),k(12,31),!0),k(1,7),!0),ds=ae(1,29),fs=ae(1,30),ue=ae(1,31),B=ae(1,32),hs=b(b(b(b(b(b(b(b(b(b(b(b(b([],B,!0),fs,!0),B,!0),ue,!0),B,!0),ue,!0),B,!0),B,!0),ue,!0),B,!0),ue,!0),B,!0),B.slice(0,7),!0),ys=b(b(b(b(b(b(b(b(b(b(b(b(b([],B,!0),ds,!0),B,!0),ue,!0),B,!0),ue,!0),B,!0),B,!0),ue,!0),B,!0),ue,!0),B,!0),B.slice(0,7),!0),ms=ae(-28,0),bs=ae(-29,0),ce=ae(-30,0),j=ae(-31,0),ps=b(b(b(b(b(b(b(b(b(b(b(b(b([],j,!0),bs,!0),j,!0),ce,!0),j,!0),ce,!0),j,!0),j,!0),ce,!0),j,!0),ce,!0),j,!0),j.slice(0,7),!0),ws=b(b(b(b(b(b(b(b(b(b(b(b(b([],j,!0),ms,!0),j,!0),ce,!0),j,!0),ce,!0),j,!0),j,!0),ce,!0),j,!0),ce,!0),j,!0),j.slice(0,7),!0),vs=[0,31,60,91,121,152,182,213,244,274,305,335,366],gs=[0,31,59,90,120,151,181,212,243,273,304,334,365],Bt=function(){for(var r=[],e=0;e<55;e++)r=r.concat(ae(7));return r}();function ks(r,e){var t=he(r,1,1),n=We(r)?366:365,a=We(r+1)?366:365,s=st(t),i=Ee(t),o=z(z({yearlen:n,nextyearlen:a,yearordinal:s,yearweekday:i},Ts(r)),{wnomask:null});if(te(e.byweekno))return o;o.wnomask=k(0,n+7);var u,f,c=u=V(7-i+e.wkst,7);c>=4?(c=0,f=o.yearlen+V(i-e.wkst,7)):f=n-c;for(var l=Math.floor(f/7),d=V(f,7),h=Math.floor(l+d/4),m=0;m<e.byweekno.length;m++){var y=e.byweekno[m];if(y<0&&(y+=h+1),y>0&&y<=h){var p=void 0;y>1?(p=c+(y-1)*7,c!==u&&(p-=7-u)):p=c;for(var v=0;v<7&&(o.wnomask[p]=1,p++,o.wdaymask[p]!==e.wkst);v++);}}if(D(e.byweekno,1)){var p=c+h*7;if(c!==u&&(p-=7-u),p<n)for(var m=0;m<7&&(o.wnomask[p]=1,p+=1,o.wdaymask[p]!==e.wkst);m++);}if(c){var _=void 0;if(D(e.byweekno,-1))_=-1;else{var O=Ee(he(r-1,1,1)),Q=V(7-O.valueOf()+e.wkst,7),Z=We(r-1)?366:365,J=void 0;Q>=4?(Q=0,J=Z+V(O-e.wkst,7)):J=n-c,_=Math.floor(52+V(J,7)/4)}if(D(e.byweekno,_))for(var p=0;p<c;p++)o.wnomask[p]=1}return o}function Ts(r){var e=We(r)?366:365,t=he(r,1,1),n=Ee(t);return e===365?{mmask:cs,mdaymask:ys,nmdaymask:ws,wdaymask:Bt.slice(n),mrange:gs}:{mmask:ls,mdaymask:hs,nmdaymask:ps,wdaymask:Bt.slice(n),mrange:vs}}function xs(r,e,t,n,a,s){var i={lastyear:r,lastmonth:e,nwdaymask:[]},o=[];if(s.freq===w.YEARLY)if(te(s.bymonth))o=[[0,t]];else for(var u=0;u<s.bymonth.length;u++)e=s.bymonth[u],o.push(n.slice(e-1,e+1));else s.freq===w.MONTHLY&&(o=[n.slice(e-1,e+1)]);if(te(o))return i;i.nwdaymask=k(0,t);for(var u=0;u<o.length;u++)for(var f=o[u],c=f[0],l=f[1]-1,d=0;d<s.bynweekday.length;d++){var h=void 0,m=s.bynweekday[d],y=m[0],p=m[1];p<0?(h=l+(p+1)*7,h-=V(a[h]-y,7)):(h=c+(p-1)*7,h+=V(7-a[h]+y,7)),c<=h&&h<=l&&(i.nwdaymask[h]=1)}return i}function Es(r,e){e===void 0&&(e=0);var t=r%19,n=Math.floor(r/100),a=r%100,s=Math.floor(n/4),i=n%4,o=Math.floor((n+8)/25),u=Math.floor((n-o+1)/3),f=Math.floor(19*t+n-s-u+15)%30,c=Math.floor(a/4),l=a%4,d=Math.floor(32+2*i+2*c-f-l)%7,h=Math.floor((t+11*f+22*d)/451),m=Math.floor((f+d-7*h+114)/31),y=(f+d-7*h+114)%31+1,p=Date.UTC(r,m-1,y+e),v=Date.UTC(r,0,1);return[Math.ceil((p-v)/(1e3*60*60*24))]}var Ds=function(){function r(e){this.options=e}return r.prototype.rebuild=function(e,t){var n=this.options;if(e!==this.lastyear&&(this.yearinfo=ks(e,n)),U(n.bynweekday)&&(t!==this.lastmonth||e!==this.lastyear)){var a=this.yearinfo,s=a.yearlen,i=a.mrange,o=a.wdaymask;this.monthinfo=xs(e,t,s,i,o,n)}C(n.byeaster)&&(this.eastermask=Es(e,n.byeaster))},Object.defineProperty(r.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),r.prototype.ydayset=function(){return[ae(this.yearlen),0,this.yearlen]},r.prototype.mdayset=function(e,t){for(var n=this.mrange[t-1],a=this.mrange[t],s=k(null,this.yearlen),i=n;i<a;i++)s[i]=i;return[s,n,a]},r.prototype.wdayset=function(e,t,n){for(var a=k(null,this.yearlen+7),s=st(he(e,t,n))-this.yearordinal,i=s,o=0;o<7&&(a[s]=s,++s,this.wdaymask[s]!==this.options.wkst);o++);return[a,i,s]},r.prototype.ddayset=function(e,t,n){var a=k(null,this.yearlen),s=st(he(e,t,n))-this.yearordinal;return a[s]=s,[a,s,s+1]},r.prototype.htimeset=function(e,t,n,a){var s=this,i=[];return this.options.byminute.forEach(function(o){i=i.concat(s.mtimeset(e,o,n,a))}),Ue(i),i},r.prototype.mtimeset=function(e,t,n,a){var s=this.options.bysecond.map(function(i){return new Qe(e,t,i,a)});return Ue(s),s},r.prototype.stimeset=function(e,t,n,a){return[new Qe(e,t,n,a)]},r.prototype.getdayset=function(e){switch(e){case T.YEARLY:return this.ydayset.bind(this);case T.MONTHLY:return this.mdayset.bind(this);case T.WEEKLY:return this.wdayset.bind(this);case T.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},r.prototype.gettimeset=function(e){switch(e){case T.HOURLY:return this.htimeset.bind(this);case T.MINUTELY:return this.mtimeset.bind(this);case T.SECONDLY:return this.stimeset.bind(this)}},r}();function Ms(r,e,t,n,a,s){for(var i=[],o=0;o<r.length;o++){var u=void 0,f=void 0,c=r[o];c<0?(u=Math.floor(c/e.length),f=V(c,e.length)):(u=Math.floor((c-1)/e.length),f=V(c-1,e.length));for(var l=[],d=t;d<n;d++){var h=s[d];C(h)&&l.push(h)}var m=void 0;u<0?m=l.slice(u)[0]:m=l[u];var y=e[f],p=br(a.yearordinal+m),v=pr(p,y);D(i,v)||i.push(v)}return Ue(i),i}function gr(r,e){var t=e.dtstart,n=e.freq,a=e.interval,s=e.until,i=e.bysetpos,o=e.count;if(o===0||a===0)return se(r);var u=es.fromDate(t),f=new Ds(e);f.rebuild(u.year,u.month);for(var c=Ys(f,u,e);;){var l=f.getdayset(n)(u.year,u.month,u.day),d=l[0],h=l[1],m=l[2],y=_s(d,h,m,f,e);if(U(i))for(var p=Ms(i,c,h,m,f,d),v=0;v<p.length;v++){var _=p[v];if(s&&_>s)return se(r);if(_>=t){var O=jt(_,e);if(!r.accept(O)||o&&(--o,!o))return se(r)}}else for(var v=h;v<m;v++){var Q=d[v];if(C(Q))for(var Z=br(f.yearordinal+Q),J=0;J<c.length;J++){var Ae=c[J],_=pr(Z,Ae);if(s&&_>s)return se(r);if(_>=t){var O=jt(_,e);if(!r.accept(O)||o&&(--o,!o))return se(r)}}}if(e.interval===0||(u.add(e,y),u.year>hr))return se(r);gt(n)||(c=f.gettimeset(n)(u.hour,u.minute,u.second,0)),f.rebuild(u.year,u.month)}}function Os(r,e,t){var n=t.bymonth,a=t.byweekno,s=t.byweekday,i=t.byeaster,o=t.bymonthday,u=t.bynmonthday,f=t.byyearday;return U(n)&&!D(n,r.mmask[e])||U(a)&&!r.wnomask[e]||U(s)&&!D(s,r.wdaymask[e])||U(r.nwdaymask)&&!r.nwdaymask[e]||i!==null&&!D(r.eastermask,e)||(U(o)||U(u))&&!D(o,r.mdaymask[e])&&!D(u,r.nmdaymask[e])||U(f)&&(e<r.yearlen&&!D(f,e+1)&&!D(f,-r.yearlen+e)||e>=r.yearlen&&!D(f,e+1-r.yearlen)&&!D(f,-r.nextyearlen+e-r.yearlen))}function jt(r,e){return new Xe(r,e.tzid).rezonedDate()}function se(r){return r.getValue()}function _s(r,e,t,n,a){for(var s=!1,i=e;i<t;i++){var o=r[i];s=Os(n,o,a),s&&(r[o]=null)}return s}function Ys(r,e,t){var n=t.freq,a=t.byhour,s=t.byminute,i=t.bysecond;return gt(n)?rs(t):n>=w.HOURLY&&U(a)&&!D(a,e.hour)||n>=w.MINUTELY&&U(s)&&!D(s,e.minute)||n>=w.SECONDLY&&U(i)&&!D(i,e.second)?[]:r.gettimeset(n)(e.hour,e.minute,e.second,e.millisecond)}var $={MO:new F(0),TU:new F(1),WE:new F(2),TH:new F(3),FR:new F(4),SA:new F(5),SU:new F(6)},kt={freq:T.YEARLY,dtstart:null,interval:1,wkst:$.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},Ls=Object.keys(kt),w=function(){function r(e,t){e===void 0&&(e={}),t===void 0&&(t=!1),this._cache=t?null:new us,this.origOptions=vr(e);var n=ts(e).parsedOptions;this.options=n}return r.parseText=function(e,t){return wr(e,t)},r.fromText=function(e,t){return Za(e,t)},r.fromString=function(e){return new r(r.parseString(e)||void 0)},r.prototype._iter=function(e){return gr(e,this.options)},r.prototype._cacheGet=function(e,t){return this._cache?this._cache._cacheGet(e,t):!1},r.prototype._cacheAdd=function(e,t,n){if(this._cache)return this._cache._cacheAdd(e,t,n)},r.prototype.all=function(e){if(e)return this._iter(new At("all",{},e));var t=this._cacheGet("all");return t===!1&&(t=this._iter(new Te("all",{})),this._cacheAdd("all",t)),t},r.prototype.between=function(e,t,n,a){if(n===void 0&&(n=!1),!Ie(e)||!Ie(t))throw new Error("Invalid date passed in to RRule.between");var s={before:t,after:e,inc:n};if(a)return this._iter(new At("between",s,a));var i=this._cacheGet("between",s);return i===!1&&(i=this._iter(new Te("between",s)),this._cacheAdd("between",i,s)),i},r.prototype.before=function(e,t){if(t===void 0&&(t=!1),!Ie(e))throw new Error("Invalid date passed in to RRule.before");var n={dt:e,inc:t},a=this._cacheGet("before",n);return a===!1&&(a=this._iter(new Te("before",n)),this._cacheAdd("before",a,n)),a},r.prototype.after=function(e,t){if(t===void 0&&(t=!1),!Ie(e))throw new Error("Invalid date passed in to RRule.after");var n={dt:e,inc:t},a=this._cacheGet("after",n);return a===!1&&(a=this._iter(new Te("after",n)),this._cacheAdd("after",a,n)),a},r.prototype.count=function(){return this.all().length},r.prototype.toString=function(){return ct(this.origOptions)},r.prototype.toText=function(e,t,n){return Ja(this,e,t,n)},r.prototype.isFullyConvertibleToText=function(){return $a(this)},r.prototype.clone=function(){return new r(this.origOptions)},r.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],r.YEARLY=T.YEARLY,r.MONTHLY=T.MONTHLY,r.WEEKLY=T.WEEKLY,r.DAILY=T.DAILY,r.HOURLY=T.HOURLY,r.MINUTELY=T.MINUTELY,r.SECONDLY=T.SECONDLY,r.MO=$.MO,r.TU=$.TU,r.WE=$.WE,r.TH=$.TH,r.FR=$.FR,r.SA=$.SA,r.SU=$.SU,r.parseString=ut,r.optionsToString=ct,r}();function Ps(r,e,t,n,a,s){var i={},o=r.accept;function u(d,h){t.forEach(function(m){m.between(d,h,!0).forEach(function(y){i[Number(y)]=!0})})}a.forEach(function(d){var h=new Xe(d,s).rezonedDate();i[Number(h)]=!0}),r.accept=function(d){var h=Number(d);return isNaN(h)?o.call(this,d):!i[h]&&(u(new Date(h-1),new Date(h+1)),!i[h])?(i[h]=!0,o.call(this,d)):!0},r.method==="between"&&(u(r.args.after,r.args.before),r.accept=function(d){var h=Number(d);return i[h]?!0:(i[h]=!0,o.call(this,d))});for(var f=0;f<n.length;f++){var c=new Xe(n[f],s).rezonedDate();if(!r.accept(new Date(c.getTime())))break}e.forEach(function(d){gr(r,d.options)});var l=r._result;switch(Ue(l),r.method){case"all":case"between":return l;case"before":return l.length&&l[l.length-1]||null;case"after":default:return l.length&&l[0]||null}}var Ft={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function Ns(r,e){var t=[],n=[],a=[],s=[],i=Ge(r),o=i.dtstart,u=i.tzid,f=Us(r,e.unfold);return f.forEach(function(c){var l;if(c){var d=Ws(c),h=d.name,m=d.parms,y=d.value;switch(h.toUpperCase()){case"RRULE":if(m.length)throw new Error("unsupported RRULE parm: ".concat(m.join(",")));t.push(ut(c));break;case"RDATE":var p=(l=/RDATE(?:;TZID=([^:=]+))?/i.exec(c))!==null&&l!==void 0?l:[],v=p[1];v&&!u&&(u=v),n=n.concat(Gt(y,m));break;case"EXRULE":if(m.length)throw new Error("unsupported EXRULE parm: ".concat(m.join(",")));a.push(ut(y));break;case"EXDATE":s=s.concat(Gt(y,m));break;case"DTSTART":break;default:throw new Error("unsupported property: "+h)}}}),{dtstart:o,tzid:u,rrulevals:t,rdatevals:n,exrulevals:a,exdatevals:s}}function Ss(r,e){var t=Ns(r,e),n=t.rrulevals,a=t.rdatevals,s=t.exrulevals,i=t.exdatevals,o=t.dtstart,u=t.tzid,f=e.cache===!1;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||n.length>1||a.length||s.length||i.length){var c=new Rs(f);return c.dtstart(o),c.tzid(u||void 0),n.forEach(function(d){c.rrule(new w(et(d,o,u),f))}),a.forEach(function(d){c.rdate(d)}),s.forEach(function(d){c.exrule(new w(et(d,o,u),f))}),i.forEach(function(d){c.exdate(d)}),e.compatible&&e.dtstart&&c.rdate(o),c}var l=n[0]||{};return new w(et(l,l.dtstart||e.dtstart||o,l.tzid||e.tzid||u),f)}function Qt(r,e){return e===void 0&&(e={}),Ss(r,Is(e))}function et(r,e,t){return z(z({},r),{dtstart:e,tzid:t})}function Is(r){var e=[],t=Object.keys(r),n=Object.keys(Ft);if(t.forEach(function(a){D(n,a)||e.push(a)}),e.length)throw new Error("Invalid options: "+e.join(", "));return z(z({},Ft),r)}function Cs(r){if(r.indexOf(":")===-1)return{name:"RRULE",value:r};var e=Ba(r,":",1),t=e[0],n=e[1];return{name:t,value:n}}function Ws(r){var e=Cs(r),t=e.name,n=e.value,a=t.split(";");if(!a)throw new Error("empty property name");return{name:a[0].toUpperCase(),parms:a.slice(1),value:n}}function Us(r,e){if(e===void 0&&(e=!1),r=r&&r.trim(),!r)throw new Error("Invalid empty string");if(!e)return r.split(/\s/);for(var t=r.split(`
`),n=0;n<t.length;){var a=t[n]=t[n].replace(/\s+$/g,"");a?n>0&&a[0]===" "?(t[n-1]+=a.slice(1),t.splice(n,1)):n+=1:t.splice(n,1)}return t}function As(r){r.forEach(function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}function Gt(r,e){return As(e),r.split(",").map(function(t){return wt(t)})}function Xt(r){var e=this;return function(t){if(t!==void 0&&(e["_".concat(r)]=t),e["_".concat(r)]!==void 0)return e["_".concat(r)];for(var n=0;n<e._rrule.length;n++){var a=e._rrule[n].origOptions[r];if(a)return a}}}var Rs=function(r){vt(e,r);function e(t){t===void 0&&(t=!1);var n=r.call(this,{},t)||this;return n.dtstart=Xt.apply(n,["dtstart"]),n.tzid=Xt.apply(n,["tzid"]),n._rrule=[],n._rdate=[],n._exrule=[],n._exdate=[],n}return e.prototype._iter=function(t){return Ps(t,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},e.prototype.rrule=function(t){zt(t,this._rrule)},e.prototype.exrule=function(t){zt(t,this._exrule)},e.prototype.rdate=function(t){Kt(t,this._rdate)},e.prototype.exdate=function(t){Kt(t,this._exdate)},e.prototype.rrules=function(){return this._rrule.map(function(t){return Qt(t.toString())})},e.prototype.exrules=function(){return this._exrule.map(function(t){return Qt(t.toString())})},e.prototype.rdates=function(){return this._rdate.map(function(t){return new Date(t.getTime())})},e.prototype.exdates=function(){return this._exdate.map(function(t){return new Date(t.getTime())})},e.prototype.valueOf=function(){var t=[];return!this._rrule.length&&this._dtstart&&(t=t.concat(ct({dtstart:this._dtstart}))),this._rrule.forEach(function(n){t=t.concat(n.toString().split(`
`))}),this._exrule.forEach(function(n){t=t.concat(n.toString().split(`
`).map(function(a){return a.replace(/^RRULE:/,"EXRULE:")}).filter(function(a){return!/^DTSTART/.test(a)}))}),this._rdate.length&&t.push(Vt("RDATE",this._rdate,this.tzid())),this._exdate.length&&t.push(Vt("EXDATE",this._exdate,this.tzid())),t},e.prototype.toString=function(){return this.valueOf().join(`
`)},e.prototype.clone=function(){var t=new e(!!this._cache);return this._rrule.forEach(function(n){return t.rrule(n.clone())}),this._exrule.forEach(function(n){return t.exrule(n.clone())}),this._rdate.forEach(function(n){return t.rdate(new Date(n.getTime()))}),this._exdate.forEach(function(n){return t.exdate(new Date(n.getTime()))}),t},e}(w);function zt(r,e){if(!(r instanceof w))throw new TypeError(String(r)+" is not RRule instance");D(e.map(String),String(r))||e.push(r)}function Kt(r,e){if(!(r instanceof Date))throw new TypeError(String(r)+" is not Date instance");D(e.map(Number),Number(r))||(e.push(r),Ue(e))}function Vt(r,e,t){var n=!t||t.toUpperCase()==="UTC",a=n?"".concat(r,":"):"".concat(r,";TZID=").concat(t,":"),s=e.map(function(i){return pt(i.valueOf(),n)}).join(",");return"".concat(a).concat(s)}const Ye={Daily:({start_date:r,interval:e=1,count:t,until:n})=>new w({freq:w.DAILY,dtstart:r,interval:e,count:t,until:n}),Weekly:({start_date:r,interval:e=1,count:t,until:n})=>new w({freq:w.WEEKLY,dtstart:r,interval:e,count:t,until:n}),Monthly:({start_date:r,interval:e=1,count:t,until:n})=>new w({freq:w.MONTHLY,dtstart:r,interval:e,count:t,until:n}),Yearly:({start_date:r,interval:e=1,count:t,until:n})=>new w({freq:w.YEARLY,dtstart:r,interval:e,count:t,until:n}),EverySixMonths:({start_date:r,interval:e=6,count:t,until:n})=>new w({freq:w.MONTHLY,dtstart:r,interval:e,count:t,until:n}),Weekdays:({start_date:r,count:e,until:t})=>new w({freq:w.DAILY,dtstart:r,count:e,until:t,byweekday:[w.MO,w.TU,w.WE,w.TH,w.FR]}),Weekends:({start_date:r,count:e,until:t})=>new w({freq:w.WEEKLY,dtstart:r,count:e,until:t,byweekday:[w.SA,w.SU]})},Le=(r,e)=>r(e).all(),qs=r=>{if(!r)return[];const{type:e,start_date:t,until:n}=r;if(e&&n&&t){const a={start_date:ke(t,"yyyy-MM-dd",new Date),until:ke(n,"yyyy-MM-dd",new Date)};if(e===we.daily.value)return Le(Ye.Daily,a);if(e===we.weekly.value)return Le(Ye.Weekly,a);if(e===we.monthly.value)return Le(Ye.Monthly,a);if(e===we.yearly.value)return Le(Ye.Yearly,a);if(e===we.everySixMonths.value)return Le(Ye.EverySixMonths,a)}return[]};function Hs(r){let e,t,n,a,s,i,o,u,f,c,l,d,h,m,y,p,v,_,O,Q,Z,J,Ae;return{c(){e=R("div"),t=R("div"),n=R("div"),a=R("div"),s=R("h5"),i=Pe(r[0]),o=ve(),u=R("button"),f=ve(),c=R("div"),l=R("p"),d=Pe(r[1]),h=ve(),m=R("div"),y=R("button"),p=Pe(r[2]),_=ve(),O=R("button"),Q=Pe(r[4]),this.h()},l(G){e=q(G,"DIV",{class:!0,tabindex:!0});var K=H(e);t=q(K,"DIV",{class:!0});var Tt=H(t);n=q(Tt,"DIV",{class:!0});var ye=H(n);a=q(ye,"DIV",{class:!0});var Re=H(a);s=q(Re,"H5",{class:!0});var xt=H(s);i=Ne(xt,r[0]),xt.forEach(W),o=ge(Re),u=q(Re,"BUTTON",{type:!0,class:!0,"aria-label":!0});var kr=H(u);kr.forEach(W),Re.forEach(W),f=ge(ye),c=q(ye,"DIV",{class:!0});var Et=H(c);l=q(Et,"P",{});var Dt=H(l);d=Ne(Dt,r[1]),Dt.forEach(W),Et.forEach(W),h=ge(ye),m=q(ye,"DIV",{class:!0});var qe=H(m);y=q(qe,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0});var Mt=H(y);p=Ne(Mt,r[2]),Mt.forEach(W),_=ge(qe),O=q(qe,"BUTTON",{type:!0,class:!0});var Ot=H(O);Q=Ne(Ot,r[4]),Ot.forEach(W),qe.forEach(W),ye.forEach(W),Tt.forEach(W),K.forEach(W),this.h()},h(){g(s,"class","modal-title"),g(u,"type","button"),g(u,"class","btn-close"),g(u,"aria-label",r[2]),g(a,"class","modal-header"),g(c,"class","modal-body"),g(y,"type","button"),g(y,"class",v="btn "+r[3]+" svelte-ydpc16"),g(y,"data-bs-dismiss","modal"),g(O,"type","button"),g(O,"class",Z="btn "+r[5]+" svelte-ydpc16"),g(m,"class","modal-footer"),g(n,"class","modal-content"),g(t,"class","modal-dialog"),g(e,"class","modal svelte-ydpc16"),g(e,"tabindex","-1")},m(G,K){dt(G,e,K),M(e,t),M(t,n),M(n,a),M(a,s),M(s,i),M(a,o),M(a,u),M(n,f),M(n,c),M(c,l),M(l,d),M(n,h),M(n,m),M(m,y),M(y,p),M(m,_),M(m,O),M(O,Q),J||(Ae=[Ve(u,"click",r[8]),Ve(y,"click",r[9]),Ve(O,"click",r[10])],J=!0)},p(G,[K]){K&1&&Se(i,G[0]),K&4&&g(u,"aria-label",G[2]),K&2&&Se(d,G[1]),K&4&&Se(p,G[2]),K&8&&v!==(v="btn "+G[3]+" svelte-ydpc16")&&g(y,"class",v),K&16&&Se(Q,G[4]),K&32&&Z!==(Z="btn "+G[5]+" svelte-ydpc16")&&g(O,"class",Z)},i:Ce,o:Ce,d(G){G&&W(e),J=!1,Mr(Ae)}}}function Bs(r,e,t){let{title:n=""}=e,{message:a=""}=e,{rejectButtonLabel:s="No"}=e,{rejectButtonCSS:i="btn-secondary"}=e,{confirmButtonLabel:o="Yes"}=e,{confirmButtonCSS:u="btn-primary"}=e,{callback:f}=e;function c(m){f(m)}const l=()=>c(!1),d=()=>c(!1),h=()=>c(!0);return r.$$set=m=>{"title"in m&&t(0,n=m.title),"message"in m&&t(1,a=m.message),"rejectButtonLabel"in m&&t(2,s=m.rejectButtonLabel),"rejectButtonCSS"in m&&t(3,i=m.rejectButtonCSS),"confirmButtonLabel"in m&&t(4,o=m.confirmButtonLabel),"confirmButtonCSS"in m&&t(5,u=m.confirmButtonCSS),"callback"in m&&t(7,f=m.callback)},[n,a,s,i,o,u,c,f,l,d,h]}class js extends ft{constructor(e){super(),ht(this,e,Bs,Hs,lt,{title:0,message:1,rejectButtonLabel:2,rejectButtonCSS:3,confirmButtonLabel:4,confirmButtonCSS:5,callback:7})}}let Zt;function ai(r){const e=document.createElement("div");document.body.appendChild(e);const t={title:"Are you sure?",message:"Are you sure you want to do that?  You will not be able to undo this.",callback:()=>{console.log("callback")}};r.title&&(t.title=r.title),r.message&&(t.message=r.message),r.rejectButtonLabel&&(t.rejectButtonLabel=r.rejectButtonLabel),r.rejectButtonCSS&&(t.rejectButtonCSS=r.rejectButtonCSS),r.confirmButtonLabel&&(t.confirmButtonLabel=r.confirmButtonLabel),r.confirmButtonCSS&&(t.confirmButtonCSS=r.confirmButtonCSS),t.callback=n=>{Zt.$destroy(),document.body.removeChild(e),r.callback&&typeof r.callback=="function"&&r.callback(n)},Zt=new js({target:e,props:t})}const Jt=pe([]);let tt=!1;async function Ke(){if(tt)return Or(Jt);tt=!0;const{data:r,error:e}=await ze.from("bills").select("*").order("created_at",{ascending:!0});if(e)throw e;const t=r||[];return Jt.set(t),tt=!1,t}async function Fs(r){const{data:e,error:t}=await ze.from("bills").insert([r]).select();if(t)throw t;return await Ke(),e?e[0]:void 0}async function Qs(r,e){const{data:t,error:n}=await ze.from("bills").update(e).eq("id",r).select();if(n)throw n;return await Ke(),t?t[0]:void 0}async function Gs(r){const{error:e}=await ze.from("bills").delete().eq("id",r);if(e)throw e;await Ke()}let fe=null;const Xs=()=>{const r=pe(!1),e=pe([]),t=pe(),n=pe(""),a=pe(""),s=Pr([e,n,a],([c,l,d])=>{if(!l||!d)return[];const h=[];if(c.length){const m=ke(l,"yyyy-MM-dd",new Date),y=ke(d,"yyyy-MM-dd",new Date);c.forEach(p=>{if(p.recurrence){const v=qs(p.recurrence).filter(O=>Na(O,{start:m,end:y})),_={...p?.meta_data?.transaction,paid:"scheduled",type:p.meta_data?.transaction?.type??"unknown",from_bill:!0,bill_id:p.id};v.forEach(O=>{h.push({type:"expense",amount:p.amount,description:p.description,source:p.source,date:In(O,"yyyy-MM-dd"),meta_data:_})})}})}return h.sort((m,y)=>{const p=ke(m.date,"yyyy-MM-dd",new Date),v=ke(y.date,"yyyy-MM-dd",new Date);return Rr(p,v)})});return fe={stores:{loading:r,targetBill:t,data:e,billAsDBTransactions:s,billAsDBTransactionsStartDateStr:n,billAsDBTransactionsEndDateStr:a},actions:{reload:async()=>{r.set(!0);const l=(await Ke()).sort((d,h)=>{if(d.recurrence?.start_date&&h.recurrence?.start_date){const m=new Date(d.recurrence.start_date).getDate(),y=new Date(h.recurrence.start_date).getDate();return m-y}return 0});e.set(l),r.set(!1)},createBill:async c=>{r.set(!0);try{await Fs(c)}catch(l){console.error(l)}finally{r.set(!1)}},updateBill:async(c,l)=>{r.set(!0);try{await Qs(c,l)}catch(d){console.error(d)}finally{r.set(!1)}},deleteBill:async c=>{r.set(!0);try{await Gs(c)}catch(l){console.error(l)}finally{r.set(!1)}}}},fe},si=()=>fe?.stores&&Object.keys(fe.stores).length>0&&fe?.actions&&Object.keys(fe.actions).length>0?fe:Xs();function zs(r){let e,t='<h5 class="card-title placeholder-glow mb-3"><span class="placeholder title col-6 svelte-noj5qc"></span></h5> <p class="card-text placeholder-glow d-flex flex-column gap-3"><span class="placeholder label col-4 svelte-noj5qc"></span> <span class="placeholder field placeholder-lg 10 svelte-noj5qc"></span> <span class="placeholder label col-4 svelte-noj5qc"></span> <span class="placeholder field placeholder-lg col-12 svelte-noj5qc"></span> <span class="placeholder label col-4 svelte-noj5qc"></span> <span class="placeholder field placeholder-lg 11 svelte-noj5qc"></span> <span class="placeholder label col-4 svelte-noj5qc"></span> <span class="placeholder field placeholder-lg col-9 svelte-noj5qc"></span> <span class="placeholder label col-4 svelte-noj5qc"></span> <span class="placeholder field placeholder-lg col-10 svelte-noj5qc"></span> <span class="placeholder label col-4 svelte-noj5qc"></span> <span class="placeholder field placeholder-lg col-12 svelte-noj5qc"></span> <span class="placeholder label col-4 svelte-noj5qc"></span></p> <div class="d-flex justify-content-between"><div class="w-50"><div class="btn btn-sm btn-danger disabled placeholder col-6" aria-disabled="true"></div></div> <div class="w-50 text-end"><div class="btn btn-sm btn-secondary disabled placeholder col-3" aria-disabled="true"></div> <div class="btn btn-sm btn-primary disabled placeholder col-5" aria-disabled="true"></div></div></div>';return{c(){e=R("div"),e.innerHTML=t},l(n){e=q(n,"DIV",{"data-svelte-h":!0}),_r(e)!=="svelte-hxr140"&&(e.innerHTML=t)},m(n,a){dt(n,e,a)},p:Ce,i:Ce,o:Ce,d(n){n&&W(e)}}}class ii extends ft{constructor(e){super(),ht(this,e,null,zs,lt,{})}}export{ri as B,ti as D,ii as F,ni as R,Rr as a,N as b,ai as c,qs as d,In as f,si as g,ke as p,_t as s};
