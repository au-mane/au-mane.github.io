import{s as w}from"./supabase-config.Y8iSvhNi.js";import{w as N}from"./index.CCnsF9wr.js";import{b as R,s as z,e as b,t as D,d as j,j as T,k as p,m as y,f as v,i as A,n as c,B as q,o as U,p as h,C as F,D as I,q as C,w as L,y as G,E as H,F as J}from"./scheduler.CBku5hu2.js";import{S as O,i as Q}from"./index.EWtk3-rK.js";const E=N([]);let k=!1;async function S(a="",e=""){if(k)return R(E);k=!0;let t=[];if(a&&e){const l=`${e}T23:59:59`,{data:s,error:d}=await w.from("transactions").select("*").gte("date",a).lte("date",l).order("date",{ascending:!1});if(d)throw d;t=s||[],E.set(t)}else{const{data:l,error:s}=await w.from("transactions").select("*").order("date",{ascending:!1});if(s)throw s;t=l||[],E.set(t)}return k=!1,t}async function ee(a){const{data:e,error:t}=await w.from("transactions").insert([a]).select();if(t)throw t;return await S(),e?e[0]:void 0}async function ae(a,e){const{data:t,error:l}=await w.from("transactions").update(e).eq("id",a).select();if(l)throw l;return await S(),t?t[0]:void 0}async function te(a){const{error:e}=await w.from("transactions").delete().eq("id",a);if(e)throw e;await S()}function P(a){let e,t;return{c(){e=b("small"),t=D(a[3]),this.h()},l(l){e=T(l,"SMALL",{class:!0});var s=p(e);t=y(s,a[3]),s.forEach(v),this.h()},h(){c(e,"class","fw-lighter fst-italic"),q(e,"text-danger",a[7])},m(l,s){U(l,e,s),h(e,t)},p(l,s){s&8&&C(t,l[3]),s&128&&q(e,"text-danger",l[7])},d(l){l&&v(e)}}}function W(a){let e,t,l,s,d,i,m,u,_,f=a[3]&&P(a);return{c(){e=b("div"),t=b("div"),l=D(a[1]),s=D(a[9]),d=j(),i=b("input"),m=j(),f&&f.c(),this.h()},l(r){e=T(r,"DIV",{class:!0});var n=p(e);t=T(n,"DIV",{});var g=p(t);l=y(g,a[1]),s=y(g,a[9]),g.forEach(v),d=A(n),i=T(n,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),m=A(n),f&&f.l(n),n.forEach(v),this.h()},h(){c(i,"name",a[2]),c(i,"type","text"),c(i,"class","form-control"),c(i,"placeholder",a[4]),i.disabled=a[5],i.required=a[6],q(i,"is-invalid",a[7]),c(e,"class","d-flex flex-column gap-1")},m(r,n){U(r,e,n),h(e,t),h(t,l),h(t,s),h(e,d),h(e,i),a[11](i),F(i,a[0]),h(e,m),f&&f.m(e,null),u||(_=[I(i,"focus",a[12]),I(i,"input",a[13]),I(i,"keyup",a[10])],u=!0)},p(r,[n]){n&2&&C(l,r[1]),n&512&&C(s,r[9]),n&4&&c(i,"name",r[2]),n&16&&c(i,"placeholder",r[4]),n&32&&(i.disabled=r[5]),n&64&&(i.required=r[6]),n&1&&i.value!==r[0]&&F(i,r[0]),n&128&&q(i,"is-invalid",r[7]),r[3]?f?f.p(r,n):(f=P(r),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:L,o:L,d(r){r&&v(e),a[11](null),f&&f.d(),u=!1,G(_)}}}function X(a,e,t){let l,{label:s=""}=e,{name:d=""}=e,{helperText:i=""}=e,{placeholder:m=""}=e,{value:u}=e,{loading:_}=e,{required:f}=e,{isInvalid:r}=e,n;const g=H(),V=()=>{g("valueChanged",{value:u})};function B(o){J[o?"unshift":"push"](()=>{n=o,t(8,n)})}const K=()=>n.select();function M(){u=this.value,t(0,u)}return a.$$set=o=>{"label"in o&&t(1,s=o.label),"name"in o&&t(2,d=o.name),"helperText"in o&&t(3,i=o.helperText),"placeholder"in o&&t(4,m=o.placeholder),"value"in o&&t(0,u=o.value),"loading"in o&&t(5,_=o.loading),"required"in o&&t(6,f=o.required),"isInvalid"in o&&t(7,r=o.isInvalid)},a.$$.update=()=>{a.$$.dirty&64&&t(9,l=f?"*":"")},[u,s,d,i,m,_,f,r,n,l,V,B,K,M]}class ie extends O{constructor(e){super(),Q(this,e,X,W,z,{label:1,name:2,helperText:3,placeholder:4,value:0,loading:5,required:6,isInvalid:7})}}export{ie as T,ee as c,te as d,S as g,ae as u};
