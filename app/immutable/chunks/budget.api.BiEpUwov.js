import{s as r}from"./supabase-config.Y8iSvhNi.js";import{w as d}from"./index.DTbfSsou.js";import{b as u}from"./scheduler.lCAGTMnG.js";const n=d([]);let s=!1;async function o(){if(s)return u(n);s=!0;const{data:e,error:t}=await r.from("budgets").select("*").order("start_at",{ascending:!0});if(t)throw t;const a=e||[];return n.set(a),s=!1,a}async function w(e){const{data:t,error:a}=await r.from("budgets").insert([e]).select();if(a)throw a;return await o(),t?t[0]:void 0}async function l(e,t){const{data:a,error:i}=await r.from("budgets").update(t).eq("id",e).select();if(i)throw i;return await o(),a?a[0]:void 0}async function m(e){const{error:t}=await r.from("budgets").delete().eq("id",e);if(t)throw t;await o()}export{w as c,m as d,o as g,l as u};
