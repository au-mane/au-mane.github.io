import{b as rt,s as Ie,v as at,n as we,o as st,B as ge}from"../chunks/scheduler.CgjAsyDf.js";import{S as Ce,i as Le,e as O,s as L,v as S,j as Y,k as q,l as pe,d as k,f as F,C as oe,n as W,o as B,q as x,E as ye,B as ot,A as de,b as X,m as G,r as U,F as it,c as Fe,g as Qe,p as Re,t as Be,a as Xe,u as Ge}from"../chunks/index.BKiGU3dl.js";import{P as ct}from"../chunks/PageLayout.DfxDb874.js";import{e as $}from"../chunks/Header.BakSs_e7.js";import{s as be}from"../chunks/supabase-config.Y8iSvhNi.js";import{w as ut}from"../chunks/index.XVz5aN3V.js";import{t as D,f as ne}from"../chunks/app.state.CGsguzWb.js";import{g as lt}from"../chunks/budget.api.VqpLw7L0.js";function M(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function Ae(r,e){const t=D(r);return isNaN(e)?M(r,NaN):(e&&t.setDate(t.getDate()+e),t)}const $e=6048e5,dt=864e5,ft=6e4,ht=36e5,mt=1e3;let wt={};function V(){return wt}function Q(r,e){const t=V(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=D(r),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function j(r){return Q(r,{weekStartsOn:1})}function je(r){const e=D(r),t=e.getFullYear(),n=M(r,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);const a=j(n),s=M(r,0);s.setFullYear(t,0,4),s.setHours(0,0,0,0);const o=j(s);return e.getTime()>=a.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function xe(r){const e=D(r);return e.setHours(0,0,0,0),e}function ee(r){const e=D(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function gt(r,e){const t=xe(r),n=xe(e),a=+t-ee(t),s=+n-ee(n);return Math.round((a-s)/dt)}function pt(r){const e=je(r),t=M(r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),j(t)}function yt(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function bt(r){if(!yt(r)&&typeof r!="number")return!1;const e=D(r);return!isNaN(Number(e))}function xt(r){const e=D(r),t=M(r,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const _t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Tt=(r,e,t)=>{let n;const a=_t[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function re(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const Mt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Pt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kt={date:re({formats:Mt,defaultWidth:"full"}),time:re({formats:Pt,defaultWidth:"full"}),dateTime:re({formats:vt,defaultWidth:"full"})},Dt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ot=(r,e,t,n)=>Dt[r];function Z(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let a;if(n==="formatting"&&r.formattingValues){const o=r.defaultFormattingWidth||r.defaultWidth,l=t?.width?String(t.width):o;a=r.formattingValues[l]||r.formattingValues[o]}else{const o=r.defaultWidth,l=t?.width?String(t.width):r.defaultWidth;a=r.values[l]||r.values[o]}const s=r.argumentCallback?r.argumentCallback(e):e;return a[s]}}const Yt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Et={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ht={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},It=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Ct={ordinalNumber:It,era:Z({values:Yt,defaultWidth:"wide"}),quarter:Z({values:Et,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Z({values:Wt,defaultWidth:"wide"}),day:Z({values:qt,defaultWidth:"wide"}),dayPeriod:Z({values:Nt,defaultWidth:"wide",formattingValues:Ht,defaultFormattingWidth:"wide"})};function K(r){return(e,t={})=>{const n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(a);if(!s)return null;const o=s[0],l=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],w=Array.isArray(l)?Ft(l,d=>d.test(o)):Lt(l,d=>d.test(o));let u;u=r.valueCallback?r.valueCallback(w):w,u=t.valueCallback?t.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function Lt(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function Ft(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function Qt(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const a=n[0],s=e.match(r.parsePattern);if(!s)return null;let o=r.valueCallback?r.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const Rt=/^(\d+)(th|st|nd|rd)?/i,Bt=/\d+/i,Xt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gt={any:[/^b/i,/^(a|c)/i]},At={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$t={any:[/1/i,/2/i,/3/i,/4/i]},jt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Vt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Jt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ut={ordinalNumber:Qt({matchPattern:Rt,parsePattern:Bt,valueCallback:r=>parseInt(r,10)}),era:K({matchPatterns:Xt,defaultMatchWidth:"wide",parsePatterns:Gt,defaultParseWidth:"any"}),quarter:K({matchPatterns:At,defaultMatchWidth:"wide",parsePatterns:$t,defaultParseWidth:"any",valueCallback:r=>r+1}),month:K({matchPatterns:jt,defaultMatchWidth:"wide",parsePatterns:Vt,defaultParseWidth:"any"}),day:K({matchPatterns:zt,defaultMatchWidth:"wide",parsePatterns:Jt,defaultParseWidth:"any"}),dayPeriod:K({matchPatterns:Zt,defaultMatchWidth:"any",parsePatterns:Kt,defaultParseWidth:"any"})},Ve={code:"en-US",formatDistance:Tt,formatLong:kt,formatRelative:Ot,localize:Ct,match:Ut,options:{weekStartsOn:0,firstWeekContainsDate:1}};function St(r){const e=D(r);return gt(e,xt(e))+1}function ze(r){const e=D(r),t=+j(e)-+pt(e);return Math.round(t/$e)+1}function fe(r,e){const t=D(r),n=t.getFullYear(),a=V(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=M(r,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=Q(o,e),w=M(r,0);w.setFullYear(n,0,s),w.setHours(0,0,0,0);const u=Q(w,e);return t.getTime()>=l.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function en(r,e){const t=V(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=fe(r,e),s=M(r,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Q(s,e)}function Je(r,e){const t=D(r),n=+Q(t,e)-+en(t,e);return Math.round(n/$e)+1}function b(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const C={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return b(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):b(t+1,2)},d(r,e){return b(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return b(r.getHours()%12||12,e.length)},H(r,e){return b(r.getHours(),e.length)},m(r,e){return b(r.getMinutes(),e.length)},s(r,e){return b(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return b(a,e.length)}},A={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_e={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return C.y(r,e)},Y:function(r,e,t,n){const a=fe(r,n),s=a>0?a:1-a;if(e==="YY"){const o=s%100;return b(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):b(s,e.length)},R:function(r,e){const t=je(r);return b(t,e.length)},u:function(r,e){const t=r.getFullYear();return b(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return b(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return b(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return C.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return b(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const a=Je(r,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):b(a,e.length)},I:function(r,e,t){const n=ze(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):b(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):C.d(r,e)},D:function(r,e,t){const n=St(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):b(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return b(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return b(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return b(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let a;switch(n===12?a=A.noon:n===0?a=A.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let a;switch(n>=17?a=A.evening:n>=12?a=A.afternoon:n>=4?a=A.morning:a=A.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return C.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):C.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):b(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):b(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):C.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):C.s(r,e)},S:function(r,e){return C.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Me(n);case"XXXX":case"XX":return R(n);case"XXXXX":case"XXX":default:return R(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return Me(n);case"xxxx":case"xx":return R(n);case"xxxxx":case"xxx":default:return R(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Te(n,":");case"OOOO":default:return"GMT"+R(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Te(n,":");case"zzzz":default:return"GMT"+R(n,":")}},t:function(r,e,t){const n=Math.trunc(r.getTime()/1e3);return b(n,e.length)},T:function(r,e,t){const n=r.getTime();return b(n,e.length)}};function Te(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Math.trunc(n/60),s=n%60;return s===0?t+String(a):t+String(a)+e+b(s,2)}function Me(r,e){return r%60===0?(r>0?"-":"+")+b(Math.abs(r)/60,2):R(r,e)}function R(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=b(Math.trunc(n/60),2),s=b(n%60,2);return t+a+e+s}const Pe=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ze=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},tn=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return Pe(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Pe(n,e)).replace("{{time}}",Ze(a,e))},ie={p:Ze,P:tn},nn=/^D+$/,rn=/^Y+$/,an=["D","DD","YY","YYYY"];function Ke(r){return nn.test(r)}function Ue(r){return rn.test(r)}function ce(r,e,t){const n=sn(r,e,t);if(console.warn(n),an.includes(r))throw new RangeError(n)}function sn(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const on=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,un=/^'([^]*?)'?$/,ln=/''/g,dn=/[a-zA-Z]/;function ue(r,e,t){const n=V(),a=n.locale??Ve,s=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=D(r);if(!bt(l))throw new RangeError("Invalid time value");let w=e.match(cn).map(c=>{const d=c[0];if(d==="p"||d==="P"){const h=ie[d];return h(c,a.formatLong)}return c}).join("").match(on).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const d=c[0];if(d==="'")return{isToken:!1,value:fn(c)};if(_e[d])return{isToken:!0,value:c};if(d.match(dn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:c}});a.localize.preprocessor&&(w=a.localize.preprocessor(l,w));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return w.map(c=>{if(!c.isToken)return c.value;const d=c.value;(Ue(d)||Ke(d))&&ce(d,e,String(r));const h=_e[d[0]];return h(l,d,a.localize,u)}).join("")}function fn(r){const e=r.match(un);return e?e[1].replace(ln,"'"):r}function hn(){return Object.assign({},V())}function mn(r){let t=D(r).getDay();return t===0&&(t=7),t}function wn(r,e){const t=e instanceof Date?M(e,0):new e(0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}const gn=10;class Se{subPriority=0;validate(e,t){return!0}}class pn extends Se{constructor(e,t,n,a,s){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=a,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class yn extends Se{priority=gn;subPriority=-1;set(e,t){return t.timestampIsSet?e:M(e,wn(e,Date))}}class y{run(e,t,n,a){const s=this.parse(e,t,n,a);return s?{setter:new pn(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,n){return!0}}class bn extends y{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const P={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},N={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function v(r,e){return r&&{value:e(r.value),rest:r.rest}}function _(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function H(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:n*(a*ht+s*ft+o*mt),rest:e.slice(t[0].length)}}function et(r){return _(P.anyDigitsSigned,r)}function T(r,e){switch(r){case 1:return _(P.singleDigit,e);case 2:return _(P.twoDigits,e);case 3:return _(P.threeDigits,e);case 4:return _(P.fourDigits,e);default:return _(new RegExp("^\\d{1,"+r+"}"),e)}}function te(r,e){switch(r){case 1:return _(P.singleDigitSigned,e);case 2:return _(P.twoDigitsSigned,e);case 3:return _(P.threeDigitsSigned,e);case 4:return _(P.fourDigitsSigned,e);default:return _(new RegExp("^-?\\d{1,"+r+"}"),e)}}function he(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function tt(r,e){const t=e>0,n=t?e:1-e;let a;if(n<=50)a=r||100;else{const s=n+50,o=Math.trunc(s/100)*100,l=r>=s%100;a=r+o-(l?100:0)}return t?a:1-a}function nt(r){return r%400===0||r%4===0&&r%100!==0}class xn extends y{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const a=s=>({year:s,isTwoDigitYear:t==="yy"});switch(t){case"y":return v(T(4,e),a);case"yo":return v(n.ordinalNumber(e,{unit:"year"}),a);default:return v(T(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const a=e.getFullYear();if(n.isTwoDigitYear){const o=tt(n.year,a);return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}const s=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class _n extends y{priority=130;parse(e,t,n){const a=s=>({year:s,isTwoDigitYear:t==="YY"});switch(t){case"Y":return v(T(4,e),a);case"Yo":return v(n.ordinalNumber(e,{unit:"year"}),a);default:return v(T(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,a){const s=fe(e,a);if(n.isTwoDigitYear){const l=tt(n.year,s);return e.setFullYear(l,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),Q(e,a)}const o=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(o,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),Q(e,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Tn extends y{priority=130;parse(e,t){return te(t==="R"?4:t.length,e)}set(e,t,n){const a=M(e,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),j(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Mn extends y{priority=130;parse(e,t){return te(t==="u"?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Pn extends y{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return T(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class vn extends y{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return T(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class kn extends y{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const a=s=>s-1;switch(t){case"M":return v(_(P.month,e),a);case"MM":return v(T(2,e),a);case"Mo":return v(n.ordinalNumber(e,{unit:"month"}),a);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class Dn extends y{priority=110;parse(e,t,n){const a=s=>s-1;switch(t){case"L":return v(_(P.month,e),a);case"LL":return v(T(2,e),a);case"Lo":return v(n.ordinalNumber(e,{unit:"month"}),a);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function On(r,e,t){const n=D(r),a=Je(n,t)-e;return n.setDate(n.getDate()-a*7),n}class Yn extends y{priority=100;parse(e,t,n){switch(t){case"w":return _(P.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return T(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,a){return Q(On(e,n,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function En(r,e){const t=D(r),n=ze(t)-e;return t.setDate(t.getDate()-n*7),t}class Wn extends y{priority=100;parse(e,t,n){switch(t){case"I":return _(P.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return T(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return j(En(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const qn=[31,28,31,30,31,30,31,31,30,31,30,31],Nn=[31,29,31,30,31,30,31,31,30,31,30,31];class Hn extends y{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return _(P.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return T(t.length,e)}}validate(e,t){const n=e.getFullYear(),a=nt(n),s=e.getMonth();return a?t>=1&&t<=Nn[s]:t>=1&&t<=qn[s]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class In extends y{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return _(P.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return T(t.length,e)}}validate(e,t){const n=e.getFullYear();return nt(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function me(r,e,t){const n=V(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=D(r),o=s.getDay(),w=(e%7+7)%7,u=7-a,c=e<0||e>6?e-(o+u)%7:(w+u)%7-(o+u)%7;return Ae(s,c)}class Cn extends y{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,a){return e=me(e,n,a),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class Ln extends y{priority=90;parse(e,t,n,a){const s=o=>{const l=Math.floor((o-1)/7)*7;return(o+a.weekStartsOn+6)%7+l};switch(t){case"e":case"ee":return v(T(t.length,e),s);case"eo":return v(n.ordinalNumber(e,{unit:"day"}),s);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,a){return e=me(e,n,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Fn extends y{priority=90;parse(e,t,n,a){const s=o=>{const l=Math.floor((o-1)/7)*7;return(o+a.weekStartsOn+6)%7+l};switch(t){case"c":case"cc":return v(T(t.length,e),s);case"co":return v(n.ordinalNumber(e,{unit:"day"}),s);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,a){return e=me(e,n,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Qn(r,e){const t=D(r),n=mn(t),a=e-n;return Ae(t,a)}class Rn extends y{priority=90;parse(e,t,n){const a=s=>s===0?7:s;switch(t){case"i":case"ii":return T(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return v(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return v(n.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return v(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return v(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=Qn(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Bn extends y{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(he(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class Xn extends y{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(he(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class Gn extends y{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(he(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class An extends y{priority=70;parse(e,t,n){switch(t){case"h":return _(P.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return T(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const a=e.getHours()>=12;return a&&n<12?e.setHours(n+12,0,0,0):!a&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class $n extends y{priority=70;parse(e,t,n){switch(t){case"H":return _(P.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return T(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class jn extends y{priority=70;parse(e,t,n){switch(t){case"K":return _(P.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return T(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class Vn extends y{priority=70;parse(e,t,n){switch(t){case"k":return _(P.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return T(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const a=n<=24?n%24:n;return e.setHours(a,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class zn extends y{priority=60;parse(e,t,n){switch(t){case"m":return _(P.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return T(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class Jn extends y{priority=50;parse(e,t,n){switch(t){case"s":return _(P.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return T(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class Zn extends y{priority=30;parse(e,t){const n=a=>Math.trunc(a*Math.pow(10,-t.length+3));return v(T(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class Kn extends y{priority=10;parse(e,t){switch(t){case"X":return H(N.basicOptionalMinutes,e);case"XX":return H(N.basic,e);case"XXXX":return H(N.basicOptionalSeconds,e);case"XXXXX":return H(N.extendedOptionalSeconds,e);case"XXX":default:return H(N.extended,e)}}set(e,t,n){return t.timestampIsSet?e:M(e,e.getTime()-ee(e)-n)}incompatibleTokens=["t","T","x"]}class Un extends y{priority=10;parse(e,t){switch(t){case"x":return H(N.basicOptionalMinutes,e);case"xx":return H(N.basic,e);case"xxxx":return H(N.basicOptionalSeconds,e);case"xxxxx":return H(N.extendedOptionalSeconds,e);case"xxx":default:return H(N.extended,e)}}set(e,t,n){return t.timestampIsSet?e:M(e,e.getTime()-ee(e)-n)}incompatibleTokens=["t","T","X"]}class Sn extends y{priority=40;parse(e){return et(e)}set(e,t,n){return[M(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class er extends y{priority=20;parse(e){return et(e)}set(e,t,n){return[M(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const tr={G:new bn,y:new xn,Y:new _n,R:new Tn,u:new Mn,Q:new Pn,q:new vn,M:new kn,L:new Dn,w:new Yn,I:new Wn,d:new Hn,D:new In,E:new Cn,e:new Ln,c:new Fn,i:new Rn,a:new Bn,b:new Xn,B:new Gn,h:new An,H:new $n,K:new jn,k:new Vn,m:new zn,s:new Jn,S:new Zn,X:new Kn,x:new Un,t:new Sn,T:new er},nr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ar=/^'([^]*?)'?$/,sr=/''/g,or=/\S/,ir=/[a-zA-Z]/;function le(r,e,t,n){const a=hn(),s=a.locale??Ve,o=a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=a.weekStartsOn??a.locale?.options?.weekStartsOn??0,w={firstWeekContainsDate:o,weekStartsOn:l,locale:s},u=[new yn],c=e.match(rr).map(i=>{const f=i[0];if(f in ie){const m=ie[f];return m(i,s.formatLong)}return i}).join("").match(nr),d=[];for(let i of c){Ue(i)&&ce(i,e,r),Ke(i)&&ce(i,e,r);const f=i[0],m=tr[f];if(m){const{incompatibleTokens:E}=m;if(Array.isArray(E)){const z=d.find(J=>E.includes(J.token)||J.token===f);if(z)throw new RangeError(`The format string mustn't contain \`${z.fullToken}\` and \`${i}\` at the same time`)}else if(m.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${i}\` and any other token at the same time`);d.push({token:f,fullToken:i});const I=m.run(r,i,s.match,w);if(!I)return M(t,NaN);u.push(I.setter),r=I.rest}else{if(f.match(ir))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");if(i==="''"?i="'":f==="'"&&(i=cr(i)),r.indexOf(i)===0)r=r.slice(i.length);else return M(t,NaN)}}if(r.length>0&&or.test(r))return M(t,NaN);const h=u.map(i=>i.priority).sort((i,f)=>f-i).filter((i,f,m)=>m.indexOf(i)===f).map(i=>u.filter(f=>f.priority===i).sort((f,m)=>m.subPriority-f.subPriority)).map(i=>i[0]);let g=D(t);if(isNaN(g.getTime()))return M(t,NaN);const p={};for(const i of h){if(!i.validate(g,w))return M(t,NaN);const f=i.set(g,p,w);Array.isArray(f)?(g=f[0],Object.assign(p,f[1])):g=f}return M(t,g)}function cr(r){return r.match(ar)[1].replace(sr,"'")}const ur=!0,Pr=Object.freeze(Object.defineProperty({__proto__:null,prerender:ur},Symbol.toStringTag,{value:"Module"})),ae=ut([]);let se=!1;async function ve(r="",e=""){if(se)return rt(ae);se=!0;let t=[];if(r&&e){const{data:n,error:a}=await be.from("transactions").select("*").gte("date",r).lte("date",e).order("date",{ascending:!1});if(a)throw a;t=n||[],ae.set(t)}else{const{data:n,error:a}=await be.from("transactions").select("*").order("date",{ascending:!1});if(a)throw a;t=n||[],ae.set(t)}return setTimeout(()=>se=!1,800),t}function ke(r){const e={};return r.forEach(t=>{const n=t.date.split("T")[0];e[n]||(e[n]=[]),e[n].push(t)}),Object.entries(e).map(([t,n])=>({dateStr:t,transactions:n}))}const De=r=>r?ue(le(r,"yyyy-MM-dd",new Date),"MMM dd"):"",lr=r=>r.map(e=>({id:e?.id||0,start:e?.start_at?ue(le(e.start_at.split("T")[0],"yyyy-MM-dd",new Date),"MMM dd"):"",end:e?.end_at?ue(le(e.end_at.split("T")[0],"yyyy-MM-dd",new Date),"MMM dd"):""}));function Oe(r,e,t){const n=r.slice();return n[9]=e[t],n}function Ye(r,e,t){const n=r.slice();return n[12]=e[t],n}function Ee(r,e,t){const n=r.slice();return n[15]=e[t],n}function We(r){let e,t=r[15].start+"",n,a,s=r[15].end+"",o,l,w;return{c(){e=O("option"),n=X(t),a=X(" to "),o=X(s),l=L(),this.h()},l(u){e=Y(u,"OPTION",{});var c=q(e);n=G(c,t),a=G(c," to "),o=G(c,s),l=F(c),c.forEach(k),this.h()},h(){e.__value=w=r[15].id,oe(e,e.__value)},m(u,c){B(u,e,c),x(e,n),x(e,a),x(e,o),x(e,l)},p(u,c){c&4&&t!==(t=u[15].start+"")&&U(n,t),c&4&&s!==(s=u[15].end+"")&&U(o,s),c&4&&w!==(w=u[15].id)&&(e.__value=w,oe(e,e.__value))},d(u){u&&k(e)}}}function qe(r){let e,t=$(r[1]),n=[];for(let a=0;a<t.length;a+=1)n[a]=He(Oe(r,t,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=S()},l(a){for(let s=0;s<n.length;s+=1)n[s].l(a);e=S()},m(a,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(a,s);B(a,e,s)},p(a,s){if(s&2){t=$(a[1]);let o;for(o=0;o<t.length;o+=1){const l=Oe(a,t,o);n[o]?n[o].p(l,s):(n[o]=He(l),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(a){a&&k(e),de(n,a)}}}function Ne(r){let e,t,n=r[12].description+"",a,s,o,l,w=ne(300.33)+"",u,c,d,h=ne(r[12].amount)+"",g,p,i;return{c(){e=O("div"),t=O("div"),a=X(n),s=L(),o=O("div"),l=O("div"),u=X(w),c=L(),d=O("div"),g=X(h),i=L(),this.h()},l(f){e=Y(f,"DIV",{class:!0});var m=q(e);t=Y(m,"DIV",{class:!0});var E=q(t);a=G(E,n),E.forEach(k),s=F(m),o=Y(m,"DIV",{class:!0});var I=q(o);l=Y(I,"DIV",{class:!0});var z=q(l);u=G(z,w),z.forEach(k),c=F(I),d=Y(I,"DIV",{class:!0});var J=q(d);g=G(J,h),J.forEach(k),I.forEach(k),i=F(m),m.forEach(k),this.h()},h(){W(t,"class","text-uppercase"),W(l,"class","fw-lighter small"),W(d,"class",p=ge(r[12].type)+" svelte-gyj904"),W(o,"class","d-flex justify-content-between"),W(e,"class","border-top p-2")},m(f,m){B(f,e,m),x(e,t),x(t,a),x(e,s),x(e,o),x(o,l),x(l,u),x(o,c),x(o,d),x(d,g),x(e,i)},p(f,m){m&2&&n!==(n=f[12].description+"")&&U(a,n),m&2&&h!==(h=ne(f[12].amount)+"")&&U(g,h),m&2&&p!==(p=ge(f[12].type)+" svelte-gyj904")&&W(d,"class",p)},d(f){f&&k(e)}}}function He(r){let e,t,n=De(r[9]?.dateStr)+"",a,s,o,l,w=$(r[9].transactions),u=[];for(let c=0;c<w.length;c+=1)u[c]=Ne(Ye(r,w,c));return{c(){e=O("div"),t=O("div"),a=X(n),s=L(),o=O("div");for(let c=0;c<u.length;c+=1)u[c].c();l=L(),this.h()},l(c){e=Y(c,"DIV",{});var d=q(e);t=Y(d,"DIV",{class:!0});var h=q(t);a=G(h,n),h.forEach(k),s=F(d),o=Y(d,"DIV",{});var g=q(o);for(let p=0;p<u.length;p+=1)u[p].l(g);g.forEach(k),l=F(d),d.forEach(k),this.h()},h(){W(t,"class","transaction-date p-2 svelte-gyj904")},m(c,d){B(c,e,d),x(e,t),x(t,a),x(e,s),x(e,o);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(o,null);x(e,l)},p(c,d){if(d&2&&n!==(n=De(c[9]?.dateStr)+"")&&U(a,n),d&2){w=$(c[9].transactions);let h;for(h=0;h<w.length;h+=1){const g=Ye(c,w,h);u[h]?u[h].p(g,d):(u[h]=Ne(g),u[h].c(),u[h].m(o,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=w.length}},d(c){c&&k(e),de(u,c)}}}function dr(r){let e,t,n,a="Range",s,o,l='<i class="bi bi-plus"></i>',w,u,c,d,h=$(r[2]),g=[];for(let i=0;i<h.length;i+=1)g[i]=We(Ee(r,h,i));let p=r[1].length&&qe(r);return{c(){e=O("div"),t=O("select"),n=O("option"),n.textContent=a;for(let i=0;i<g.length;i+=1)g[i].c();s=L(),o=O("button"),o.innerHTML=l,w=L(),p&&p.c(),u=S(),this.h()},l(i){e=Y(i,"DIV",{class:!0});var f=q(e);t=Y(f,"SELECT",{class:!0,"aria-label":!0});var m=q(t);n=Y(m,"OPTION",{"data-svelte-h":!0}),pe(n)!=="svelte-1k3fjyk"&&(n.textContent=a);for(let E=0;E<g.length;E+=1)g[E].l(m);m.forEach(k),s=F(f),o=Y(f,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(o)!=="svelte-1w0ihcr"&&(o.innerHTML=l),f.forEach(k),w=F(i),p&&p.l(i),u=S(),this.h()},h(){n.selected=!0,n.__value="Range",oe(n,n.__value),W(t,"class","form-select"),W(t,"aria-label","Default select example"),r[0]===void 0&&at(()=>r[7].call(t)),W(o,"class","btn btn-sm btn-primary"),W(e,"class","transaction-page d-flex justify-content-between gap-3")},m(i,f){B(i,e,f),x(e,t),x(t,n);for(let m=0;m<g.length;m+=1)g[m]&&g[m].m(t,null);ye(t,r[0],!0),x(e,s),x(e,o),B(i,w,f),p&&p.m(i,f),B(i,u,f),c||(d=ot(t,"change",r[7]),c=!0)},p(i,[f]){if(f&4){h=$(i[2]);let m;for(m=0;m<h.length;m+=1){const E=Ee(i,h,m);g[m]?g[m].p(E,f):(g[m]=We(E),g[m].c(),g[m].m(t,null))}for(;m<g.length;m+=1)g[m].d(1);g.length=h.length}f&5&&ye(t,i[0]),i[1].length?p?p.p(i,f):(p=qe(i),p.c(),p.m(u.parentNode,u)):p&&(p.d(1),p=null)},i:we,o:we,d(i){i&&(k(e),k(w),k(u)),de(g,i),p&&p.d(i),c=!1,d()}}}function fr(r,e,t){let n,a=[],s=[],o=[],l=[];st(async()=>{t(3,o=await lt()),t(2,l=lr(o)),a=await ve(),t(1,s=ke(a))});let w=!1,u,c;function d(){n=it(this),t(0,n),t(2,l)}return r.$$.update=()=>{if(r.$$.dirty&121&&n&&!w){const h=o.find(g=>g.id===n);if(h&&h.start_at&&h.end_at){const g=h.start_at.split("T")[0],p=h.end_at.split("T")[0];u!==g&&c!==p&&(t(5,u=g),t(6,c=p),t(4,w=!0),ve(g,p).then(i=>{t(1,s=ke(i))}).finally(()=>{t(4,w=!1)}))}}},[n,s,l,o,w,u,c,d]}class hr extends Ce{constructor(e){super(),Le(this,e,fr,dr,Ie,{})}}function mr(r){let e,t;return e=new hr({}),{c(){Fe(e.$$.fragment)},l(n){Qe(e.$$.fragment,n)},m(n,a){Re(e,n,a),t=!0},i(n){t||(Be(e.$$.fragment,n),t=!0)},o(n){Xe(e.$$.fragment,n),t=!1},d(n){Ge(e,n)}}}function wr(r){let e,t;return e=new ct({props:{pageTitle:"Transactions",$$slots:{default:[mr]},$$scope:{ctx:r}}}),{c(){Fe(e.$$.fragment)},l(n){Qe(e.$$.fragment,n)},m(n,a){Re(e,n,a),t=!0},p(n,[a]){const s={};a&1&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){t||(Be(e.$$.fragment,n),t=!0)},o(n){Xe(e.$$.fragment,n),t=!1},d(n){Ge(e,n)}}}class vr extends Ce{constructor(e){super(),Le(this,e,null,wr,Ie,{})}}export{vr as component,Pr as universal};
