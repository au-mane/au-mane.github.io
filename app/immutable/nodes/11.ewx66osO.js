import{b as At,s as Ie,c as St,u as Xt,g as Gt,a as Ut,n as Je,r as tt,j as ct,v as zt,o as Kt,B as ut}from"../chunks/scheduler.CgjAsyDf.js";import{S as Ce,i as Ne,e as k,b as te,s as L,j as D,k as M,m as ne,d as v,f as W,n as m,o as J,q as g,r as se,t as ue,a as he,C as ee,v as ve,x as Jt,w as Zt,c as Le,l as fe,g as We,y as pe,D as ge,p as qe,u as Be,E as lt,B as nt,F as $t}from"../chunks/index.B-nT1WAI.js";import{P as en}from"../chunks/PageLayout.Ct3ta-gv.js";import{e as Te}from"../chunks/Header.D88Nxveg.js";import{s as Ye}from"../chunks/supabase-config.Y8iSvhNi.js";import{w as je}from"../chunks/index.XVz5aN3V.js";import{t as G,f as Xe}from"../chunks/app.state.CGsguzWb.js";import{g as tn}from"../chunks/budget.api.VqpLw7L0.js";import{S as nn}from"../chunks/Spinner.FdraNdws.js";function V(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function It(r,e){const t=G(r);return isNaN(e)?V(r,NaN):(e&&t.setDate(t.getDate()+e),t)}const Ct=6048e5,rn=864e5,an=6e4,sn=36e5,on=1e3;let cn={};function xe(){return cn}function me(r,e){const t=xe(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=G(r),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function ke(r){return me(r,{weekStartsOn:1})}function Nt(r){const e=G(r),t=e.getFullYear(),n=V(r,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);const a=ke(n),s=V(r,0);s.setFullYear(t,0,4),s.setHours(0,0,0,0);const o=ke(s);return e.getTime()>=a.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function dt(r){const e=G(r);return e.setHours(0,0,0,0),e}function Ve(r){const e=G(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function un(r,e){const t=dt(r),n=dt(e),a=+t-Ve(t),s=+n-Ve(n);return Math.round((a-s)/rn)}function ln(r){const e=Nt(r),t=V(r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),ke(t)}function dn(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function fn(r){if(!dn(r)&&typeof r!="number")return!1;const e=G(r);return!isNaN(Number(e))}function hn(r){const e=G(r),t=V(r,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const mn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wn=(r,e,t)=>{let n;const a=mn[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Ge(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const gn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yn={date:Ge({formats:gn,defaultWidth:"full"}),time:Ge({formats:bn,defaultWidth:"full"}),dateTime:Ge({formats:pn,defaultWidth:"full"})},_n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vn=(r,e,t,n)=>_n[r];function Me(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let a;if(n==="formatting"&&r.formattingValues){const o=r.defaultFormattingWidth||r.defaultWidth,w=t?.width?String(t.width):o;a=r.formattingValues[w]||r.formattingValues[o]}else{const o=r.defaultWidth,w=t?.width?String(t.width):r.defaultWidth;a=r.values[w]||r.values[o]}const s=r.argumentCallback?r.argumentCallback(e):e;return a[s]}}const Tn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Pn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},On=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},En={ordinalNumber:On,era:Me({values:Tn,defaultWidth:"wide"}),quarter:Me({values:kn,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Me({values:Dn,defaultWidth:"wide"}),day:Me({values:xn,defaultWidth:"wide"}),dayPeriod:Me({values:Pn,defaultWidth:"wide",formattingValues:Mn,defaultFormattingWidth:"wide"})};function Oe(r){return(e,t={})=>{const n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(a);if(!s)return null;const o=s[0],w=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(w)?In(w,u=>u.test(o)):Yn(w,u=>u.test(o));let i;i=r.valueCallback?r.valueCallback(d):d,i=t.valueCallback?t.valueCallback(i):i;const c=e.slice(o.length);return{value:i,rest:c}}}function Yn(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function In(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function Cn(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const a=n[0],s=e.match(r.parsePattern);if(!s)return null;let o=r.valueCallback?r.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;const w=e.slice(a.length);return{value:o,rest:w}}}const Nn=/^(\d+)(th|st|nd|rd)?/i,Ln=/\d+/i,Wn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qn={any:[/^b/i,/^(a|c)/i]},Bn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hn={any:[/1/i,/2/i,/3/i,/4/i]},Fn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Rn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},An={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Sn={ordinalNumber:Cn({matchPattern:Nn,parsePattern:Ln,valueCallback:r=>parseInt(r,10)}),era:Oe({matchPatterns:Wn,defaultMatchWidth:"wide",parsePatterns:qn,defaultParseWidth:"any"}),quarter:Oe({matchPatterns:Bn,defaultMatchWidth:"wide",parsePatterns:Hn,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Oe({matchPatterns:Fn,defaultMatchWidth:"wide",parsePatterns:Rn,defaultParseWidth:"any"}),day:Oe({matchPatterns:Qn,defaultMatchWidth:"wide",parsePatterns:jn,defaultParseWidth:"any"}),dayPeriod:Oe({matchPatterns:Vn,defaultMatchWidth:"any",parsePatterns:An,defaultParseWidth:"any"})},Lt={code:"en-US",formatDistance:wn,formatLong:yn,formatRelative:vn,localize:En,match:Sn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xn(r){const e=G(r);return un(e,hn(e))+1}function Wt(r){const e=G(r),t=+ke(e)-+ln(e);return Math.round(t/Ct)+1}function rt(r,e){const t=G(r),n=t.getFullYear(),a=xe(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=V(r,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const w=me(o,e),d=V(r,0);d.setFullYear(n,0,s),d.setHours(0,0,0,0);const i=me(d,e);return t.getTime()>=w.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function Gn(r,e){const t=xe(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=rt(r,e),s=V(r,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),me(s,e)}function qt(r,e){const t=G(r),n=+me(t,e)-+Gn(t,e);return Math.round(n/Ct)+1}function C(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const de={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return C(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):C(t+1,2)},d(r,e){return C(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return C(r.getHours()%12||12,e.length)},H(r,e){return C(r.getHours(),e.length)},m(r,e){return C(r.getMinutes(),e.length)},s(r,e){return C(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return C(a,e.length)}},ye={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ft={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return de.y(r,e)},Y:function(r,e,t,n){const a=rt(r,n),s=a>0?a:1-a;if(e==="YY"){const o=s%100;return C(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):C(s,e.length)},R:function(r,e){const t=Nt(r);return C(t,e.length)},u:function(r,e){const t=r.getFullYear();return C(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return C(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return C(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return de.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return C(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const a=qt(r,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):C(a,e.length)},I:function(r,e,t){const n=Wt(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):C(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):de.d(r,e)},D:function(r,e,t){const n=Xn(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):C(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return C(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return C(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return C(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let a;switch(n===12?a=ye.noon:n===0?a=ye.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let a;switch(n>=17?a=ye.evening:n>=12?a=ye.afternoon:n>=4?a=ye.morning:a=ye.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return de.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):de.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):C(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):C(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):de.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):de.s(r,e)},S:function(r,e){return de.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return mt(n);case"XXXX":case"XX":return we(n);case"XXXXX":case"XXX":default:return we(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return mt(n);case"xxxx":case"xx":return we(n);case"xxxxx":case"xxx":default:return we(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ht(n,":");case"OOOO":default:return"GMT"+we(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ht(n,":");case"zzzz":default:return"GMT"+we(n,":")}},t:function(r,e,t){const n=Math.trunc(r.getTime()/1e3);return C(n,e.length)},T:function(r,e,t){const n=r.getTime();return C(n,e.length)}};function ht(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Math.trunc(n/60),s=n%60;return s===0?t+String(a):t+String(a)+e+C(s,2)}function mt(r,e){return r%60===0?(r>0?"-":"+")+C(Math.abs(r)/60,2):we(r,e)}function we(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=C(Math.trunc(n/60),2),s=C(n%60,2);return t+a+e+s}const wt=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Bt=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Un=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return wt(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",wt(n,e)).replace("{{time}}",Bt(a,e))},Ze={p:Bt,P:Un},zn=/^D+$/,Kn=/^Y+$/,Jn=["D","DD","YY","YYYY"];function Ht(r){return zn.test(r)}function Ft(r){return Kn.test(r)}function $e(r,e,t){const n=Zn(r,e,t);if(console.warn(n),Jn.includes(r))throw new RangeError(n)}function Zn(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $n=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,er=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tr=/^'([^]*?)'?$/,nr=/''/g,rr=/[a-zA-Z]/;function Ae(r,e,t){const n=xe(),a=n.locale??Lt,s=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,w=G(r);if(!fn(w))throw new RangeError("Invalid time value");let d=e.match(er).map(c=>{const u=c[0];if(u==="p"||u==="P"){const f=Ze[u];return f(c,a.formatLong)}return c}).join("").match($n).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const u=c[0];if(u==="'")return{isToken:!1,value:ar(c)};if(ft[u])return{isToken:!0,value:c};if(u.match(rr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");return{isToken:!1,value:c}});a.localize.preprocessor&&(d=a.localize.preprocessor(w,d));const i={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return d.map(c=>{if(!c.isToken)return c.value;const u=c.value;(Ft(u)||Ht(u))&&$e(u,e,String(r));const f=ft[u[0]];return f(w,u,a.localize,i)}).join("")}function ar(r){const e=r.match(tr);return e?e[1].replace(nr,"'"):r}function sr(){return Object.assign({},xe())}function or(r){let t=G(r).getDay();return t===0&&(t=7),t}function ir(r,e){const t=e instanceof Date?V(e,0):new e(0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}const cr=10;class Rt{subPriority=0;validate(e,t){return!0}}class ur extends Rt{constructor(e,t,n,a,s){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=a,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class lr extends Rt{priority=cr;subPriority=-1;set(e,t){return t.timestampIsSet?e:V(e,ir(e,Date))}}class Y{run(e,t,n,a){const s=this.parse(e,t,n,a);return s?{setter:new ur(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,n){return!0}}class dr extends Y{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const A={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},oe={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function S(r,e){return r&&{value:e(r.value),rest:r.rest}}function q(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ie(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:n*(a*sn+s*an+o*on),rest:e.slice(t[0].length)}}function Qt(r){return q(A.anyDigitsSigned,r)}function H(r,e){switch(r){case 1:return q(A.singleDigit,e);case 2:return q(A.twoDigits,e);case 3:return q(A.threeDigits,e);case 4:return q(A.fourDigits,e);default:return q(new RegExp("^\\d{1,"+r+"}"),e)}}function Se(r,e){switch(r){case 1:return q(A.singleDigitSigned,e);case 2:return q(A.twoDigitsSigned,e);case 3:return q(A.threeDigitsSigned,e);case 4:return q(A.fourDigitsSigned,e);default:return q(new RegExp("^-?\\d{1,"+r+"}"),e)}}function at(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function jt(r,e){const t=e>0,n=t?e:1-e;let a;if(n<=50)a=r||100;else{const s=n+50,o=Math.trunc(s/100)*100,w=r>=s%100;a=r+o-(w?100:0)}return t?a:1-a}function Vt(r){return r%400===0||r%4===0&&r%100!==0}class fr extends Y{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const a=s=>({year:s,isTwoDigitYear:t==="yy"});switch(t){case"y":return S(H(4,e),a);case"yo":return S(n.ordinalNumber(e,{unit:"year"}),a);default:return S(H(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const a=e.getFullYear();if(n.isTwoDigitYear){const o=jt(n.year,a);return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}const s=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class hr extends Y{priority=130;parse(e,t,n){const a=s=>({year:s,isTwoDigitYear:t==="YY"});switch(t){case"Y":return S(H(4,e),a);case"Yo":return S(n.ordinalNumber(e,{unit:"year"}),a);default:return S(H(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,a){const s=rt(e,a);if(n.isTwoDigitYear){const w=jt(n.year,s);return e.setFullYear(w,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),me(e,a)}const o=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(o,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),me(e,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class mr extends Y{priority=130;parse(e,t){return Se(t==="R"?4:t.length,e)}set(e,t,n){const a=V(e,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),ke(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class wr extends Y{priority=130;parse(e,t){return Se(t==="u"?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class gr extends Y{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return H(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class br extends Y{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return H(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class pr extends Y{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const a=s=>s-1;switch(t){case"M":return S(q(A.month,e),a);case"MM":return S(H(2,e),a);case"Mo":return S(n.ordinalNumber(e,{unit:"month"}),a);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class yr extends Y{priority=110;parse(e,t,n){const a=s=>s-1;switch(t){case"L":return S(q(A.month,e),a);case"LL":return S(H(2,e),a);case"Lo":return S(n.ordinalNumber(e,{unit:"month"}),a);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function _r(r,e,t){const n=G(r),a=qt(n,t)-e;return n.setDate(n.getDate()-a*7),n}class vr extends Y{priority=100;parse(e,t,n){switch(t){case"w":return q(A.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return H(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,a){return me(_r(e,n,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function Tr(r,e){const t=G(r),n=Wt(t)-e;return t.setDate(t.getDate()-n*7),t}class kr extends Y{priority=100;parse(e,t,n){switch(t){case"I":return q(A.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return H(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return ke(Tr(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const Dr=[31,28,31,30,31,30,31,31,30,31,30,31],xr=[31,29,31,30,31,30,31,31,30,31,30,31];class Pr extends Y{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return q(A.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return H(t.length,e)}}validate(e,t){const n=e.getFullYear(),a=Vt(n),s=e.getMonth();return a?t>=1&&t<=xr[s]:t>=1&&t<=Dr[s]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Mr extends Y{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return q(A.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return H(t.length,e)}}validate(e,t){const n=e.getFullYear();return Vt(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function st(r,e,t){const n=xe(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=G(r),o=s.getDay(),d=(e%7+7)%7,i=7-a,c=e<0||e>6?e-(o+i)%7:(d+i)%7-(o+i)%7;return It(s,c)}class Or extends Y{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,a){return e=st(e,n,a),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class Er extends Y{priority=90;parse(e,t,n,a){const s=o=>{const w=Math.floor((o-1)/7)*7;return(o+a.weekStartsOn+6)%7+w};switch(t){case"e":case"ee":return S(H(t.length,e),s);case"eo":return S(n.ordinalNumber(e,{unit:"day"}),s);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,a){return e=st(e,n,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Yr extends Y{priority=90;parse(e,t,n,a){const s=o=>{const w=Math.floor((o-1)/7)*7;return(o+a.weekStartsOn+6)%7+w};switch(t){case"c":case"cc":return S(H(t.length,e),s);case"co":return S(n.ordinalNumber(e,{unit:"day"}),s);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,a){return e=st(e,n,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Ir(r,e){const t=G(r),n=or(t),a=e-n;return It(t,a)}class Cr extends Y{priority=90;parse(e,t,n){const a=s=>s===0?7:s;switch(t){case"i":case"ii":return H(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return S(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return S(n.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return S(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return S(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=Ir(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Nr extends Y{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(at(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class Lr extends Y{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(at(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class Wr extends Y{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(at(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class qr extends Y{priority=70;parse(e,t,n){switch(t){case"h":return q(A.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return H(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const a=e.getHours()>=12;return a&&n<12?e.setHours(n+12,0,0,0):!a&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class Br extends Y{priority=70;parse(e,t,n){switch(t){case"H":return q(A.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return H(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class Hr extends Y{priority=70;parse(e,t,n){switch(t){case"K":return q(A.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return H(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class Fr extends Y{priority=70;parse(e,t,n){switch(t){case"k":return q(A.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return H(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const a=n<=24?n%24:n;return e.setHours(a,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class Rr extends Y{priority=60;parse(e,t,n){switch(t){case"m":return q(A.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return H(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class Qr extends Y{priority=50;parse(e,t,n){switch(t){case"s":return q(A.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return H(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class jr extends Y{priority=30;parse(e,t){const n=a=>Math.trunc(a*Math.pow(10,-t.length+3));return S(H(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class Vr extends Y{priority=10;parse(e,t){switch(t){case"X":return ie(oe.basicOptionalMinutes,e);case"XX":return ie(oe.basic,e);case"XXXX":return ie(oe.basicOptionalSeconds,e);case"XXXXX":return ie(oe.extendedOptionalSeconds,e);case"XXX":default:return ie(oe.extended,e)}}set(e,t,n){return t.timestampIsSet?e:V(e,e.getTime()-Ve(e)-n)}incompatibleTokens=["t","T","x"]}class Ar extends Y{priority=10;parse(e,t){switch(t){case"x":return ie(oe.basicOptionalMinutes,e);case"xx":return ie(oe.basic,e);case"xxxx":return ie(oe.basicOptionalSeconds,e);case"xxxxx":return ie(oe.extendedOptionalSeconds,e);case"xxx":default:return ie(oe.extended,e)}}set(e,t,n){return t.timestampIsSet?e:V(e,e.getTime()-Ve(e)-n)}incompatibleTokens=["t","T","X"]}class Sr extends Y{priority=40;parse(e){return Qt(e)}set(e,t,n){return[V(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Xr extends Y{priority=20;parse(e){return Qt(e)}set(e,t,n){return[V(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const Gr={G:new dr,y:new fr,Y:new hr,R:new mr,u:new wr,Q:new gr,q:new br,M:new pr,L:new yr,w:new vr,I:new kr,d:new Pr,D:new Mr,E:new Or,e:new Er,c:new Yr,i:new Cr,a:new Nr,b:new Lr,B:new Wr,h:new qr,H:new Br,K:new Hr,k:new Fr,m:new Rr,s:new Qr,S:new jr,X:new Vr,x:new Ar,t:new Sr,T:new Xr},Ur=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Kr=/^'([^]*?)'?$/,Jr=/''/g,Zr=/\S/,$r=/[a-zA-Z]/;function et(r,e,t,n){const a=sr(),s=a.locale??Lt,o=a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,w=a.weekStartsOn??a.locale?.options?.weekStartsOn??0,d={firstWeekContainsDate:o,weekStartsOn:w,locale:s},i=[new lr],c=e.match(zr).map(h=>{const l=h[0];if(l in Ze){const y=Ze[l];return y(h,s.formatLong)}return h}).join("").match(Ur),u=[];for(let h of c){Ft(h)&&$e(h,e,r),Ht(h)&&$e(h,e,r);const l=h[0],y=Gr[l];if(y){const{incompatibleTokens:p}=y;if(Array.isArray(p)){const x=u.find(O=>p.includes(O.token)||O.token===l);if(x)throw new RangeError(`The format string mustn't contain \`${x.fullToken}\` and \`${h}\` at the same time`)}else if(y.incompatibleTokens==="*"&&u.length>0)throw new RangeError(`The format string mustn't contain \`${h}\` and any other token at the same time`);u.push({token:l,fullToken:h});const _=y.run(r,h,s.match,d);if(!_)return V(t,NaN);i.push(_.setter),r=_.rest}else{if(l.match($r))throw new RangeError("Format string contains an unescaped latin alphabet character `"+l+"`");if(h==="''"?h="'":l==="'"&&(h=ea(h)),r.indexOf(h)===0)r=r.slice(h.length);else return V(t,NaN)}}if(r.length>0&&Zr.test(r))return V(t,NaN);const f=i.map(h=>h.priority).sort((h,l)=>l-h).filter((h,l,y)=>y.indexOf(h)===l).map(h=>i.filter(l=>l.priority===h).sort((l,y)=>y.subPriority-l.subPriority)).map(h=>h[0]);let T=G(t);if(isNaN(T.getTime()))return V(t,NaN);const b={};for(const h of f){if(!h.validate(T,d))return V(t,NaN);const l=h.set(T,b,d);Array.isArray(l)?(T=l[0],Object.assign(b,l[1])):T=l}return V(t,T)}function ea(r){return r.match(Kr)[1].replace(Jr,"'")}const ta=!0,ja=Object.freeze(Object.defineProperty({__proto__:null,prerender:ta},Symbol.toStringTag,{value:"Module"})),Ue=je([]);let ze=!1;async function De(r="",e=""){if(ze)return At(Ue);ze=!0;let t=[];if(r&&e){const{data:n,error:a}=await Ye.from("transactions").select("*").gte("date",r).lte("date",e).order("date",{ascending:!1});if(a)throw a;t=n||[],Ue.set(t)}else{const{data:n,error:a}=await Ye.from("transactions").select("*").order("date",{ascending:!1});if(a)throw a;t=n||[],Ue.set(t)}return setTimeout(()=>ze=!1,800),t}async function na(r){const{data:e,error:t}=await Ye.from("transactions").insert([r]).select();if(t)throw t;return await De(),e?e[0]:void 0}async function ra(r,e){const{data:t,error:n}=await Ye.from("transactions").update(e).eq("id",r).select();if(n)throw n;return await De(),t?t[0]:void 0}async function aa(r){const{error:e}=await Ye.from("transactions").delete().eq("id",r);if(e)throw e;await De()}function gt(r){const e={};return r.forEach(t=>{const n=t.date.split("T")[0];e[n]||(e[n]=[]),e[n].push(t)}),Object.entries(e).map(([t,n])=>({dateStr:t,transactions:n}))}const bt=r=>r?Ae(et(r,"yyyy-MM-dd",new Date),"MMM dd"):"",sa=r=>r.map(e=>({id:e?.id||0,start:e?.start_at?Ae(et(e.start_at.split("T")[0],"yyyy-MM-dd",new Date),"MMM dd"):"",end:e?.end_at?Ae(et(e.end_at.split("T")[0],"yyyy-MM-dd",new Date),"MMM dd"):""}));var z=[];for(var Ke=0;Ke<256;++Ke)z.push((Ke+256).toString(16).slice(1));function oa(r,e=0){return(z[r[e+0]]+z[r[e+1]]+z[r[e+2]]+z[r[e+3]]+"-"+z[r[e+4]]+z[r[e+5]]+"-"+z[r[e+6]]+z[r[e+7]]+"-"+z[r[e+8]]+z[r[e+9]]+"-"+z[r[e+10]]+z[r[e+11]]+z[r[e+12]]+z[r[e+13]]+z[r[e+14]]+z[r[e+15]]).toLowerCase()}var Qe,ia=new Uint8Array(16);function ca(){if(!Qe&&(Qe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Qe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qe(ia)}var ua=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const pt={randomUUID:ua};function la(r,e,t){if(pt.randomUUID&&!e&&!r)return pt.randomUUID();r=r||{};var n=r.random||(r.rng||ca)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,oa(n)}function da(r){let e,t,n,a,s,o,w,d,i,c,u;const f=r[8].default,T=St(f,r,r[7],null);return{c(){e=k("div"),t=k("div"),n=k("h4"),a=te(r[1]),s=L(),o=k("button"),d=L(),i=k("div"),T&&T.c(),this.h()},l(b){e=D(b,"DIV",{class:!0,tabindex:!0,id:!0,"aria-labelledby":!0});var h=M(e);t=D(h,"DIV",{class:!0});var l=M(t);n=D(l,"H4",{class:!0,id:!0});var y=M(n);a=ne(y,r[1]),y.forEach(v),s=W(l),o=D(l,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-bs-target":!0,"aria-label":!0}),M(o).forEach(v),l.forEach(v),d=W(h),i=D(h,"DIV",{class:!0});var p=M(i);T&&T.l(p),p.forEach(v),h.forEach(v),this.h()},h(){m(n,"class","offcanvas-title"),m(n,"id",r[4]),m(o,"type","button"),m(o,"class","btn-close"),m(o,"data-bs-dismiss","offcanvas"),m(o,"data-bs-target",w="#"+r[0]),m(o,"aria-label","Close"),m(t,"class","offcanvas-header"),m(i,"class","offcanvas-body"),m(e,"class",c=r[3]+" "+r[2]),m(e,"tabindex","-1"),m(e,"id",r[0]),m(e,"aria-labelledby",r[4])},m(b,h){J(b,e,h),g(e,t),g(t,n),g(n,a),g(t,s),g(t,o),g(e,d),g(e,i),T&&T.m(i,null),u=!0},p(b,[h]){(!u||h&2)&&se(a,b[1]),(!u||h&1&&w!==(w="#"+b[0]))&&m(o,"data-bs-target",w),T&&T.p&&(!u||h&128)&&Xt(T,f,b,b[7],u?Ut(f,b[7],h,null):Gt(b[7]),null),(!u||h&12&&c!==(c=b[3]+" "+b[2]))&&m(e,"class",c),(!u||h&1)&&m(e,"id",b[0])},i(b){u||(ue(T,b),u=!0)},o(b){he(T,b),u=!1},d(b){b&&v(e),T&&T.d(b)}}}function fa(r,e,t){let n,a,{$$slots:s={},$$scope:o}=e,{id:w}=e,{title:d}=e,{breakpoint:i=""}=e,{placement:c="end"}=e;const u=la();return r.$$set=f=>{"id"in f&&t(0,w=f.id),"title"in f&&t(1,d=f.title),"breakpoint"in f&&t(5,i=f.breakpoint),"placement"in f&&t(6,c=f.placement),"$$scope"in f&&t(7,o=f.$$scope)},r.$$.update=()=>{r.$$.dirty&32&&t(3,n=`offcanvas${i===""?"":"-"+i}`),r.$$.dirty&64&&t(2,a=`offcanvas-${c}`)},[w,d,a,n,u,i,c,o,s]}class ha extends Ce{constructor(e){super(),Ne(this,e,fa,da,Ie,{id:0,title:1,breakpoint:5,placement:6})}}function ma(r,e){typeof window<"u"&&window.gtag?window.gtag("event",r,e||{}):console.warn("gtag is not available")}function yt(r,e,t,n){ma(r,{event_category:e,event_label:t,value:n})}function wa(r){let e,t,n,a,s,o,w,d,i,c,u,f,T,b,h,l,y,p,_,x,O,F,ae;return{c(){e=k("div"),t=k("div"),n=k("div"),a=k("div"),s=k("h5"),o=te(r[0]),w=L(),d=k("button"),i=L(),c=k("div"),u=k("p"),f=te(r[1]),T=L(),b=k("div"),h=k("button"),l=te(r[2]),p=L(),_=k("button"),x=te(r[4]),this.h()},l(R){e=D(R,"DIV",{class:!0,tabindex:!0});var I=M(e);t=D(I,"DIV",{class:!0});var N=M(t);n=D(N,"DIV",{class:!0});var U=M(n);a=D(U,"DIV",{class:!0});var $=M(a);s=D($,"H5",{class:!0});var X=M(s);o=ne(X,r[0]),X.forEach(v),w=W($),d=D($,"BUTTON",{type:!0,class:!0,"aria-label":!0});var re=M(d);re.forEach(v),$.forEach(v),i=W(U),c=D(U,"DIV",{class:!0});var Q=M(c);u=D(Q,"P",{});var P=M(u);f=ne(P,r[1]),P.forEach(v),Q.forEach(v),T=W(U),b=D(U,"DIV",{class:!0});var K=M(b);h=D(K,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0});var j=M(h);l=ne(j,r[2]),j.forEach(v),p=W(K),_=D(K,"BUTTON",{type:!0,class:!0});var Pe=M(_);x=ne(Pe,r[4]),Pe.forEach(v),K.forEach(v),U.forEach(v),N.forEach(v),I.forEach(v),this.h()},h(){m(s,"class","modal-title"),m(d,"type","button"),m(d,"class","btn-close"),m(d,"aria-label",r[2]),m(a,"class","modal-header"),m(c,"class","modal-body"),m(h,"type","button"),m(h,"class",y="btn "+r[3]+" svelte-ydpc16"),m(h,"data-bs-dismiss","modal"),m(_,"type","button"),m(_,"class",O="btn "+r[5]+" svelte-ydpc16"),m(b,"class","modal-footer"),m(n,"class","modal-content"),m(t,"class","modal-dialog"),m(e,"class","modal svelte-ydpc16"),m(e,"tabindex","-1")},m(R,I){J(R,e,I),g(e,t),g(t,n),g(n,a),g(a,s),g(s,o),g(a,w),g(a,d),g(n,i),g(n,c),g(c,u),g(u,f),g(n,T),g(n,b),g(b,h),g(h,l),g(b,p),g(b,_),g(_,x),F||(ae=[ee(d,"click",r[8]),ee(h,"click",r[9]),ee(_,"click",r[10])],F=!0)},p(R,[I]){I&1&&se(o,R[0]),I&4&&m(d,"aria-label",R[2]),I&2&&se(f,R[1]),I&4&&se(l,R[2]),I&8&&y!==(y="btn "+R[3]+" svelte-ydpc16")&&m(h,"class",y),I&16&&se(x,R[4]),I&32&&O!==(O="btn "+R[5]+" svelte-ydpc16")&&m(_,"class",O)},i:Je,o:Je,d(R){R&&v(e),F=!1,tt(ae)}}}function ga(r,e,t){let{title:n=""}=e,{message:a=""}=e,{rejectButtonLabel:s="No"}=e,{rejectButtonCSS:o="btn-secondary"}=e,{confirmButtonLabel:w="Yes"}=e,{confirmButtonCSS:d="btn-primary"}=e,{callback:i}=e;function c(b){i(b)}const u=()=>c(!1),f=()=>c(!1),T=()=>c(!0);return r.$$set=b=>{"title"in b&&t(0,n=b.title),"message"in b&&t(1,a=b.message),"rejectButtonLabel"in b&&t(2,s=b.rejectButtonLabel),"rejectButtonCSS"in b&&t(3,o=b.rejectButtonCSS),"confirmButtonLabel"in b&&t(4,w=b.confirmButtonLabel),"confirmButtonCSS"in b&&t(5,d=b.confirmButtonCSS),"callback"in b&&t(7,i=b.callback)},[n,a,s,o,w,d,c,i,u,f,T]}class ba extends Ce{constructor(e){super(),Ne(this,e,ga,wa,Ie,{title:0,message:1,rejectButtonLabel:2,rejectButtonCSS:3,confirmButtonLabel:4,confirmButtonCSS:5,callback:7})}}let _t;function pa(r){const e=document.createElement("div");document.body.appendChild(e);const t={title:"Are you sure?",message:"Are you sure you want to do that?  You will not be able to undo this.",callback:()=>{console.log("callback")}};r.title&&(t.title=r.title),r.message&&(t.message=r.message),r.rejectButtonLabel&&(t.rejectButtonLabel=r.rejectButtonLabel),r.rejectButtonCSS&&(t.rejectButtonCSS=r.rejectButtonCSS),r.confirmButtonLabel&&(t.confirmButtonLabel=r.confirmButtonLabel),r.confirmButtonCSS&&(t.confirmButtonCSS=r.confirmButtonCSS),t.callback=n=>{console.log("Confirm result:",n),_t.$destroy(),document.body.removeChild(e),r.callback&&typeof r.callback=="function"&&r.callback(n)},_t=new ba({target:e,props:t})}const ya={type:"expense",amount:0,description:"",source:"",date:""};let Ee=null;const _a=()=>{const r=je(!1),e=je([]),t=je([]),n=s=>s.length?s:[];return Ee={stores:{ready:r,data:e,dbData:t},actions:{reload:async()=>{r.set(!1);const s=await De();t.set(n(s)),r.set(!0)}}},Ee},va=()=>Ee?.stores&&Object.keys(Ee.stores).length>0?Ee:_a();function vt(r){let e,t,n,a="Description*",s,o,w,d,i,c="Description helper text here",u,f,T,b="Source*",h,l,y,p,_,x,O=r[9].message+"",F,ae,R,I,N,U,$,X,re,Q,P,K;N=new nn({props:{size:"xs"}});let j=r[6]&&Tt(r);function Pe(E,B){return E[6]?ka:Ta}let He=Pe(r),ce=He(r),Z=r[10]&&kt();return{c(){e=k("div"),t=k("div"),n=k("div"),n.textContent=a,s=L(),o=k("input"),d=L(),i=k("small"),i.textContent=c,u=L(),f=k("div"),T=k("div"),T.textContent=b,h=L(),l=k("input"),p=L(),_=k("div"),x=k("small"),F=te(O),R=L(),I=k("span"),Le(N.$$.fragment),U=L(),j&&j.c(),$=L(),X=k("button"),ce.c(),re=L(),Z&&Z.c(),this.h()},l(E){e=D(E,"DIV",{class:!0});var B=M(e);t=D(B,"DIV",{class:!0});var be=M(t);n=D(be,"DIV",{"data-svelte-h":!0}),fe(n)!=="svelte-8167a8"&&(n.textContent=a),s=W(be),o=D(be,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),d=W(be),i=D(be,"SMALL",{class:!0,"data-svelte-h":!0}),fe(i)!=="svelte-1x398eh"&&(i.textContent=c),be.forEach(v),u=W(B),f=D(B,"DIV",{class:!0});var Fe=M(f);T=D(Fe,"DIV",{"data-svelte-h":!0}),fe(T)!=="svelte-1irjajf"&&(T.textContent=b),h=W(Fe),l=D(Fe,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),Fe.forEach(v),p=W(B),_=D(B,"DIV",{class:!0});var le=M(_);x=D(le,"SMALL",{class:!0});var ot=M(x);F=ne(ot,O),ot.forEach(v),R=W(le),I=D(le,"SPAN",{});var it=M(I);We(N.$$.fragment,it),it.forEach(v),U=W(le),j&&j.l(le),$=W(le),X=D(le,"BUTTON",{class:!0});var Re=M(X);ce.l(Re),re=W(Re),Z&&Z.l(Re),Re.forEach(v),le.forEach(v),B.forEach(v),this.h()},h(){m(o,"name",w=r[1]+"-description"),m(o,"type","text"),m(o,"class","form-control"),m(o,"placeholder","Description"),o.disabled=r[5],o.required=!0,pe(o,"is-invalid",r[4]),m(i,"class","fw-lighter fst-italic"),m(t,"class","d-flex flex-column gap-2"),m(l,"name",y=r[1]+"-source"),m(l,"type","text"),m(l,"class","form-control"),m(l,"placeholder","Source"),l.disabled=r[5],l.required=!0,pe(l,"is-invalid",r[3]),m(f,"class","d-flex flex-column gap-2"),m(x,"class",ae="fw-lighter fst-italic text-"+r[9].type),pe(I,"d-none",!r[5]),m(X,"class","btn btn-primary position-relative"),m(_,"class","d-flex justify-content-end align-items-center gap-2 flex-row"),m(e,"class","d-flex flex-column gap-4")},m(E,B){J(E,e,B),g(e,t),g(t,n),g(t,s),g(t,o),r[15](o),ge(o,r[0].description),g(t,d),g(t,i),g(e,u),g(e,f),g(f,T),g(f,h),g(f,l),r[19](l),ge(l,r[0].source),g(e,p),g(e,_),g(_,x),g(x,F),g(_,R),g(_,I),qe(N,I,null),g(_,U),j&&j.m(_,null),g(_,$),g(_,X),ce.m(X,null),g(X,re),Z&&Z.m(X,null),Q=!0,P||(K=[ee(o,"focus",r[16]),ee(o,"keyup",r[17]),ee(o,"input",r[18]),ee(l,"focus",r[20]),ee(l,"keyup",r[21]),ee(l,"input",r[22]),ee(X,"click",r[12])],P=!0)},p(E,B){(!Q||B&2&&w!==(w=E[1]+"-description"))&&m(o,"name",w),(!Q||B&32)&&(o.disabled=E[5]),B&1&&o.value!==E[0].description&&ge(o,E[0].description),(!Q||B&16)&&pe(o,"is-invalid",E[4]),(!Q||B&2&&y!==(y=E[1]+"-source"))&&m(l,"name",y),(!Q||B&32)&&(l.disabled=E[5]),B&1&&l.value!==E[0].source&&ge(l,E[0].source),(!Q||B&8)&&pe(l,"is-invalid",E[3]),(!Q||B&512)&&O!==(O=E[9].message+"")&&se(F,O),(!Q||B&512&&ae!==(ae="fw-lighter fst-italic text-"+E[9].type))&&m(x,"class",ae),(!Q||B&32)&&pe(I,"d-none",!E[5]),E[6]?j?j.p(E,B):(j=Tt(E),j.c(),j.m(_,$)):j&&(j.d(1),j=null),He!==(He=Pe(E))&&(ce.d(1),ce=He(E),ce&&(ce.c(),ce.m(X,re))),E[10]?Z||(Z=kt(),Z.c(),Z.m(X,null)):Z&&(Z.d(1),Z=null)},i(E){Q||(ue(N.$$.fragment,E),Q=!0)},o(E){he(N.$$.fragment,E),Q=!1},d(E){E&&v(e),r[15](null),r[19](null),Be(N),j&&j.d(),ce.d(),Z&&Z.d(),P=!1,tt(K)}}}function Tt(r){let e,t="<span>Delete</span>",n,a;return{c(){e=k("button"),e.innerHTML=t,this.h()},l(s){e=D(s,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-4hjfsp"&&(e.innerHTML=t),this.h()},h(){m(e,"class","btn btn-danger position-relative")},m(s,o){J(s,e,o),n||(a=ee(e,"click",r[11]),n=!0)},p:Je,d(s){s&&v(e),n=!1,a()}}}function Ta(r){let e,t="Create";return{c(){e=k("span"),e.textContent=t},l(n){e=D(n,"SPAN",{"data-svelte-h":!0}),fe(e)!=="svelte-1wf0js6"&&(e.textContent=t)},m(n,a){J(n,e,a)},d(n){n&&v(e)}}}function ka(r){let e,t="Save";return{c(){e=k("span"),e.textContent=t},l(n){e=D(n,"SPAN",{"data-svelte-h":!0}),fe(e)!=="svelte-l126tb"&&(e.textContent=t)},m(n,a){J(n,e,a)},d(n){n&&v(e)}}}function kt(r){let e,t='<span class="visually-hidden">Item not saved</span>';return{c(){e=k("span"),e.innerHTML=t,this.h()},l(n){e=D(n,"SPAN",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-1sxrz4i"&&(e.innerHTML=t),this.h()},h(){m(e,"class","position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle")},m(n,a){J(n,e,a)},d(n){n&&v(e)}}}function Da(r){let e,t,n=r[0]&&vt(r);return{c(){n&&n.c(),e=ve()},l(a){n&&n.l(a),e=ve()},m(a,s){n&&n.m(a,s),J(a,e,s),t=!0},p(a,[s]){a[0]?n?(n.p(a,s),s&1&&ue(n,1)):(n=vt(a),n.c(),ue(n,1),n.m(e.parentNode,e)):n&&(Jt(),he(n,1,1,()=>{n=null}),Zt())},i(a){t||(ue(n),t=!0)},o(a){he(n),t=!1},d(a){a&&v(e),n&&n.d(a)}}}function xa(r,e,t){let n,a,s,o,{name:w=""}=e,{drawerId:d=""}=e,{transaction:i}=e;const{actions:{reload:c}}=va();let u=!1,f=i?.id,T,b,h={message:"",type:"info"},l={amount:0,description:"",source:"",date:""},y={source:!1,description:!1};const p=()=>{const P=`[data-bs-target="#${d}"]`,K=document.querySelector(P);K&&K.click()},_=()=>{t(2,y={source:!1,description:!1}),t(0,i={...ya}),t(5,u=!1)},x=(P,K=0,j="info")=>{t(9,h.message=P,h),t(9,h.type=j,h),K&&setTimeout(()=>{t(9,h.message="",h)},K)},O=async()=>{if(!f){x("ID is not defined",0,"danger");return}try{await aa(f),await c(),setTimeout(()=>{t(5,u=!1),t(14,l={...i,id:f}),x("Transaction Deleted",3e3,"success"),p()},800)}catch(P){setTimeout(()=>{t(5,u=!1),console.error("Save failed:",P),x("Failed to save event. Please try again.",7e3,"danger")},800)}},F=()=>{t(5,u=!0),pa({title:"Delete Confirmation",message:"Are you sure you want to do this?  You won't be able to undo this.",confirmButtonLabel:"Yes",confirmButtonCSS:"btn-danger",callback:P=>{P&&O(),_()}})},ae=async()=>{if(!n){x("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!o){let P=[];s&&P.push("Description is invalid"),a&&P.push("Source is invalid"),x(P.join(". ")+".  Please address accordingly.",0,"danger");return}if(!u){x("Saving ..."),t(5,u=!0);try{const P={...i};f?await ra(f,P):await na(P),await c(),yt("set_member_list_item_success","interaction",`Set Member List Successful ${i.description}`,1),setTimeout(()=>{t(5,u=!1),t(14,l={...i,id:f}),x("Saved",3e3,"success"),f||_(),p()},800)}catch(P){yt("set_member_list_item_failed","interaction",`Set Member List Failed ${i.description}`,1),setTimeout(()=>{t(5,u=!1),console.error("Save failed:",P),x("Failed to save event. Please try again.",7e3,"danger"),f||_()},800)}}};function R(P){ct[P?"unshift":"push"](()=>{T=P,t(7,T)})}const I=()=>T.select(),N=()=>t(2,y.description=!0,y);function U(){i.description=this.value,t(0,i)}function $(P){ct[P?"unshift":"push"](()=>{b=P,t(8,b)})}const X=()=>b.select(),re=()=>t(2,y.source=!0,y);function Q(){i.source=this.value,t(0,i)}return r.$$set=P=>{"name"in P&&t(1,w=P.name),"drawerId"in P&&t(13,d=P.drawerId),"transaction"in P&&t(0,i=P.transaction)},r.$$.update=()=>{r.$$.dirty&16385&&t(10,n=l?.description!==i?.description||l?.source!==i?.source),r.$$.dirty&1&&t(6,f=i?.id),r.$$.dirty&5&&t(3,a=y.source&&i.source===""),r.$$.dirty&5&&t(4,s=y.description&&i.description===""),r.$$.dirty&24&&(o=!a&&!s)},[i,w,y,a,s,u,f,T,b,h,n,F,ae,d,l,R,I,N,U,$,X,re,Q]}class Pa extends Ce{constructor(e){super(),Ne(this,e,xa,Da,Ie,{name:1,drawerId:13,transaction:0})}}function Dt(r,e,t){const n=r.slice();return n[15]=e[t],n}function xt(r,e,t){const n=r.slice();return n[18]=e[t],n}function Pt(r,e,t){const n=r.slice();return n[21]=e[t],n}function Ma(r){let e,t;return e=new Pa({props:{name:"member-list-item-form-new",drawerId:_e,transaction:r[4]}}),{c(){Le(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,a){qe(e,n,a),t=!0},p(n,a){const s={};a&16&&(s.transaction=n[4]),e.$set(s)},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){he(e.$$.fragment,n),t=!1},d(n){Be(e,n)}}}function Mt(r){let e,t=r[21].start+"",n,a,s=r[21].end+"",o,w,d;return{c(){e=k("option"),n=te(t),a=te(" to "),o=te(s),w=L(),this.h()},l(i){e=D(i,"OPTION",{});var c=M(e);n=ne(c,t),a=ne(c," to "),o=ne(c,s),w=W(c),c.forEach(v),this.h()},h(){e.__value=d=r[21].id,ge(e,e.__value)},m(i,c){J(i,e,c),g(e,n),g(e,a),g(e,o),g(e,w)},p(i,c){c&8&&t!==(t=i[21].start+"")&&se(n,t),c&8&&s!==(s=i[21].end+"")&&se(o,s),c&8&&d!==(d=i[21].id)&&(e.__value=d,ge(e,e.__value))},d(i){i&&v(e)}}}function Ot(r){let e,t=Te(r[2]),n=[];for(let a=0;a<t.length;a+=1)n[a]=Yt(Dt(r,t,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ve()},l(a){for(let s=0;s<n.length;s+=1)n[s].l(a);e=ve()},m(a,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(a,s);J(a,e,s)},p(a,s){if(s&68){t=Te(a[2]);let o;for(o=0;o<t.length;o+=1){const w=Dt(a,t,o);n[o]?n[o].p(w,s):(n[o]=Yt(w),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(a){a&&v(e),nt(n,a)}}}function Et(r){let e,t,n,a=r[18].description+"",s,o,w,d=r[18].source+"",i,c,u,f,T=Xe(300.33)+"",b,h,l,y,p=Xe(r[18].amount)+"",_,x,O,F,ae;function R(){return r[13](r[18])}return{c(){e=k("div"),t=k("div"),n=k("div"),s=te(a),o=L(),w=k("div"),i=te(d),c=L(),u=k("div"),f=k("div"),b=te(T),h=L(),l=k("div"),y=k("button"),_=te(p),O=L(),this.h()},l(I){e=D(I,"DIV",{class:!0});var N=M(e);t=D(N,"DIV",{});var U=M(t);n=D(U,"DIV",{class:!0});var $=M(n);s=ne($,a),$.forEach(v),o=W(U),w=D(U,"DIV",{class:!0});var X=M(w);i=ne(X,d),X.forEach(v),U.forEach(v),c=W(N),u=D(N,"DIV",{class:!0});var re=M(u);f=D(re,"DIV",{class:!0});var Q=M(f);b=ne(Q,T),Q.forEach(v),h=W(re),l=D(re,"DIV",{class:!0});var P=M(l);y=D(P,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var K=M(y);_=ne(K,p),K.forEach(v),P.forEach(v),re.forEach(v),O=W(N),N.forEach(v),this.h()},h(){m(n,"class","text-uppercase"),m(w,"class","fw-light text-muted"),m(f,"class","fw-lighter small"),m(y,"class","btn btn-sm btn-link"),m(y,"type","button"),m(y,"data-bs-toggle","offcanvas"),m(y,"data-bs-target","#"+_e),m(y,"aria-controls",_e),m(l,"class",x=ut(r[18].type)+" svelte-gyj904"),m(u,"class","d-flex justify-content-between align-items-center"),m(e,"class","border-top p-2")},m(I,N){J(I,e,N),g(e,t),g(t,n),g(n,s),g(t,o),g(t,w),g(w,i),g(e,c),g(e,u),g(u,f),g(f,b),g(u,h),g(u,l),g(l,y),g(y,_),g(e,O),F||(ae=ee(y,"click",R),F=!0)},p(I,N){r=I,N&4&&a!==(a=r[18].description+"")&&se(s,a),N&4&&d!==(d=r[18].source+"")&&se(i,d),N&4&&p!==(p=Xe(r[18].amount)+"")&&se(_,p),N&4&&x!==(x=ut(r[18].type)+" svelte-gyj904")&&m(l,"class",x)},d(I){I&&v(e),F=!1,ae()}}}function Yt(r){let e,t,n=bt(r[15]?.dateStr)+"",a,s,o,w,d=Te(r[15].transactions),i=[];for(let c=0;c<d.length;c+=1)i[c]=Et(xt(r,d,c));return{c(){e=k("div"),t=k("div"),a=te(n),s=L(),o=k("div");for(let c=0;c<i.length;c+=1)i[c].c();w=L(),this.h()},l(c){e=D(c,"DIV",{});var u=M(e);t=D(u,"DIV",{class:!0});var f=M(t);a=ne(f,n),f.forEach(v),s=W(u),o=D(u,"DIV",{});var T=M(o);for(let b=0;b<i.length;b+=1)i[b].l(T);T.forEach(v),w=W(u),u.forEach(v),this.h()},h(){m(t,"class","transaction-date p-2 svelte-gyj904")},m(c,u){J(c,e,u),g(e,t),g(t,a),g(e,s),g(e,o);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(o,null);g(e,w)},p(c,u){if(u&4&&n!==(n=bt(c[15]?.dateStr)+"")&&se(a,n),u&68){d=Te(c[15].transactions);let f;for(f=0;f<d.length;f+=1){const T=xt(c,d,f);i[f]?i[f].p(T,u):(i[f]=Et(T),i[f].c(),i[f].m(o,null))}for(;f<i.length;f+=1)i[f].d(1);i.length=d.length}},d(c){c&&v(e),nt(i,c)}}}function Oa(r){let e,t,n,a,s,o="Range",w,d,i,c,u,f,T,b;e=new ha({props:{title:"Drawer Title",id:_e,$$slots:{default:[Ma]},$$scope:{ctx:r}}});let h=Te(r[3]),l=[];for(let p=0;p<h.length;p+=1)l[p]=Mt(Pt(r,h,p));let y=r[2].length&&r[1]&&Ot(r);return{c(){Le(e.$$.fragment),t=L(),n=k("div"),a=k("select"),s=k("option"),s.textContent=o;for(let p=0;p<l.length;p+=1)l[p].c();w=L(),d=k("button"),i=k("i"),c=L(),y&&y.c(),u=ve(),this.h()},l(p){We(e.$$.fragment,p),t=W(p),n=D(p,"DIV",{class:!0});var _=M(n);a=D(_,"SELECT",{class:!0,"aria-label":!0});var x=M(a);s=D(x,"OPTION",{"data-svelte-h":!0}),fe(s)!=="svelte-1k3fjyk"&&(s.textContent=o);for(let F=0;F<l.length;F+=1)l[F].l(x);x.forEach(v),w=W(_),d=D(_,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var O=M(d);i=D(O,"I",{class:!0}),M(i).forEach(v),O.forEach(v),_.forEach(v),c=W(p),y&&y.l(p),u=ve(),this.h()},h(){s.selected=!0,s.__value="Range",ge(s,s.__value),m(a,"class","form-select"),m(a,"aria-label","Default select example"),r[0]===void 0&&zt(()=>r[11].call(a)),m(i,"class","bi bi-plus"),m(d,"class","btn btn-sm btn-secondary"),m(d,"type","button"),m(d,"data-bs-toggle","offcanvas"),m(d,"data-bs-target","#"+_e),m(d,"aria-controls",_e),m(n,"class","transaction-page d-flex justify-content-between gap-3")},m(p,_){qe(e,p,_),J(p,t,_),J(p,n,_),g(n,a),g(a,s);for(let x=0;x<l.length;x+=1)l[x]&&l[x].m(a,null);lt(a,r[0],!0),g(n,w),g(n,d),g(d,i),J(p,c,_),y&&y.m(p,_),J(p,u,_),f=!0,T||(b=[ee(a,"change",r[11]),ee(d,"click",r[12])],T=!0)},p(p,[_]){const x={};if(_&16777232&&(x.$$scope={dirty:_,ctx:p}),e.$set(x),_&8){h=Te(p[3]);let O;for(O=0;O<h.length;O+=1){const F=Pt(p,h,O);l[O]?l[O].p(F,_):(l[O]=Mt(F),l[O].c(),l[O].m(a,null))}for(;O<l.length;O+=1)l[O].d(1);l.length=h.length}_&9&&lt(a,p[0]),p[2].length&&p[1]?y?y.p(p,_):(y=Ot(p),y.c(),y.m(u.parentNode,u)):y&&(y.d(1),y=null)},i(p){f||(ue(e.$$.fragment,p),f=!0)},o(p){he(e.$$.fragment,p),f=!1},d(p){p&&(v(t),v(n),v(c),v(u)),Be(e,p),nt(l,p),y&&y.d(p),T=!1,tt(b)}}}const _e="transactions-form";function Ea(r,e,t){let n,a=[],s=[],o=[],w=[];Kt(async()=>{t(7,o=await tn()),t(3,w=sa(o)),a=await De(),t(2,s=gt(a))});let d,i=!1,c,u,f;const T={type:"expense",amount:0,description:"test",source:"test",date:Ae(new Date,"yyyy-mm-dd")},b=p=>{t(4,f=p)};function h(){n=$t(this),t(0,n),t(3,w)}const l=()=>b({...T}),y=p=>b(p);return r.$$.update=()=>{if(r.$$.dirty&1923&&n&&!i&&d?.id!==n&&(t(1,d=o.find(p=>p.id===n)),d&&d.start_at&&d.end_at)){const p=d.start_at.split("T")[0],_=d.end_at.split("T")[0];c!==p&&u!==_&&(t(9,c=p),t(10,u=_),t(8,i=!0),De(p,_).then(x=>{t(2,s=gt(x))}).finally(()=>{t(8,i=!1)}))}},[n,d,s,w,f,T,b,o,i,c,u,h,l,y]}class Ya extends Ce{constructor(e){super(),Ne(this,e,Ea,Oa,Ie,{})}}function Ia(r){let e,t;return e=new Ya({}),{c(){Le(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,a){qe(e,n,a),t=!0},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){he(e.$$.fragment,n),t=!1},d(n){Be(e,n)}}}function Ca(r){let e,t;return e=new en({props:{pageTitle:"Transactions",$$slots:{default:[Ia]},$$scope:{ctx:r}}}),{c(){Le(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,a){qe(e,n,a),t=!0},p(n,[a]){const s={};a&1&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){t||(ue(e.$$.fragment,n),t=!0)},o(n){he(e.$$.fragment,n),t=!1},d(n){Be(e,n)}}}class Va extends Ce{constructor(e){super(),Ne(this,e,null,Ca,Ie,{})}}export{Va as component,ja as universal};
